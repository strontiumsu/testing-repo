<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.7.0"/>
    <title>repository.models.scan_models API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../models.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;repository.models</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#MyModel">MyModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#MyModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.guess">guess</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.hold">hold</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.man_bounds">man_bounds</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.man_scale">man_scale</a>
                        </li>
                        <li>
                                <a class="function" href="#MyModel.before_validate">before_validate</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.validators">validators</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.strong_validators">strong_validators</a>
                        </li>
                        <li>
                                <a class="variable" href="#MyModel.pre_validators">pre_validators</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#BlankModel">BlankModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#BlankModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.x_unit">x_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.y_unit">y_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#BlankModel.enable_histograms">enable_histograms</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LoadingModel">LoadingModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#LoadingModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.man_bounds">man_bounds</a>
                        </li>
                        <li>
                                <a class="variable" href="#LoadingModel.guess">guess</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#TemperatureModel">TemperatureModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#TemperatureModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.x_unit">x_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.y_unit">y_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.hold">hold</a>
                        </li>
                        <li>
                                <a class="variable" href="#TemperatureModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="function" href="#TemperatureModel.before_validate">before_validate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DipoleTemperatureModel">DipoleTemperatureModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.x_unit">x_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.y_unit">y_unit</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#DipoleTemperatureModel.hold">hold</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RabiFlopModel">RabiFlopModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RabiFlopModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="function" href="#RabiFlopModel.before_validate">before_validate</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiFlopModel.y_scale">y_scale</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RabiModel">RabiModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RabiModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="function" href="#RabiModel.before_validate">before_validate</a>
                        </li>
                        <li>
                                <a class="variable" href="#RabiModel.y_scale">y_scale</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RamseyModel">RamseyModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RamseyModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyModel.persist">persist</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RamseyPhaseModel">RamseyPhaseModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.hold">hold</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyPhaseModel.persist">persist</a>
                        </li>
                        <li>
                                <a class="function" href="#RamseyPhaseModel.before_validate">before_validate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RamseyDecayModel">RamseyDecayModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#RamseyDecayModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#RamseyDecayModel.persist">persist</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PicoModel">PicoModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#PicoModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.x_scale">x_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoModel.y_scale">y_scale</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FreqModelGen">FreqModelGen</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#FreqModelGen.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.x_scale">x_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#FreqModelGen.y_scale">y_scale</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LinearModel">LinearModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#LinearModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.y_units">y_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinearModel.x_scale">x_scale</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PicoAngleModel">PicoAngleModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#PicoAngleModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.x_scale">x_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.persist">persist</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoAngleModel.hold">hold</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PicoScanModel">PicoScanModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#PicoScanModel.namespace">namespace</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.y_label">y_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.y_scale">y_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.enable_histograms">enable_histograms</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.x_label">x_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.x_scale">x_scale</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.x_units">x_units</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.main_fit">main_fit</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.plot_title">plot_title</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.fit_function">fit_function</a>
                        </li>
                        <li>
                                <a class="variable" href="#PicoScanModel.hold">hold</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../repository.html">repository</a><wbr>.<a href="./../models.html">models</a><wbr>.scan_models    </h1>

                        <div class="docstring"><p>Created on Wed Dec 14 12:35:21 2022</p>

<p>@author: E. Porter</p>
</div>

                        <input id="mod-scan_models-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-scan_models-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">Created on Wed Dec 14 12:35:21 2022</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">@author: E. Porter</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span> <span class="nn">scan_framework.models</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>    <span class="n">Exp</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>    <span class="n">ExpSine</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>    <span class="n">FreqModel</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>    <span class="n">Gauss</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>    <span class="n">Lor</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>    <span class="n">MHz</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>    <span class="n">Model</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>    <span class="n">Poly</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>    <span class="n">Power</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>    <span class="n">Sine</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>    <span class="n">TimeFreqModel</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>    <span class="n">TimeModel</span><span class="p">,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">constants</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">TimeFreqModel</span><span class="p">):</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;LorentzianTest.%transition&#39;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Frequency/Time Scan&#39;</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>    <span class="nd">@property</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>            <span class="k">return</span> <span class="n">Sine</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="nd">@property</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">,</span> <span class="s1">&#39;center freq&#39;</span><span class="p">]</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>            <span class="k">return</span> <span class="s1">&#39;f&#39;</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>    <span class="nd">@property</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>            <span class="k">return</span> <span class="s2">&quot;Hz&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>            <span class="k">return</span> <span class="s2">&quot;s&quot;</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>    <span class="nd">@property</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>            <span class="k">return</span> <span class="s2">&quot;Frequency&quot;</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>            <span class="k">return</span> <span class="s2">&quot;time&quot;</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>    <span class="nd">@property</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="k">def</span> <span class="nf">guess</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>                    <span class="s2">&quot;Gamma&quot;</span><span class="p">:</span><span class="mi">10</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>                    <span class="s2">&quot;x0&quot;</span><span class="p">:</span><span class="mi">500</span><span class="o">*</span><span class="mf">1e6</span><span class="p">}</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mf">1e5</span><span class="p">,</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="nd">@property</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="k">def</span> <span class="nf">hold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="nd">@property</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="k">def</span> <span class="nf">man_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.8</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="mf">1.2</span><span class="o">*</span><span class="mf">1e3</span><span class="p">],</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">400</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">600</span><span class="o">*</span><span class="mf">1e6</span><span class="p">],</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span><span class="mi">50</span><span class="o">*</span><span class="mf">1e6</span><span class="p">]</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>                    <span class="p">}</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">1500</span><span class="p">],</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:[</span><span class="mf">10e3</span><span class="p">,</span> <span class="mf">50e6</span><span class="p">],</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:[</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">]}</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="nd">@property</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">man_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>                    <span class="p">}</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="mf">3.14159</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="k">pass</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>    <span class="nd">@property</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="n">validators</span> <span class="o">=</span>   <span class="p">{</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>            <span class="s2">&quot;analysis.r2&quot;</span><span class="p">:{</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>                <span class="s2">&quot;greater_than&quot;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">}</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="p">}</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="k">return</span> <span class="n">validators</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>    <span class="nd">@property</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">strong_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="c1"># this one will actually cancel the experiment</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>    <span class="nd">@property</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">pre_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="c1"># ensures data looks a certain way before trying to fit</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="k">class</span> <span class="nc">BlankModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>    
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>    
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>    
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="k">class</span> <span class="nc">LoadingModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;LoadingExp&quot;</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;pulse time&#39;</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Loading Scan&#39;</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Exp</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>    <span class="n">man_bounds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>                    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">]</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>                    <span class="p">}</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>    <span class="n">guess</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>    
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>    
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="k">class</span> <span class="nc">TemperatureModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>    
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>    
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;TOF_temp&#39;</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;TOF time&#39;</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>    
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;variance&#39;</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39;pixel squared&#39;</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>    
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Cloud Radius over time&#39;</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Power</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>    
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>    <span class="nd">@property</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="s1">&#39;tempX&#39;</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>    
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="n">M</span>  <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;atomic mass constant&#39;</span><span class="p">)</span><span class="o">*</span><span class="mf">87.9</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="n">Kb</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;Boltzmann constant&#39;</span><span class="p">)</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;tempX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pix2um</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-12</span><span class="o">*</span><span class="n">M</span><span class="o">/</span><span class="n">Kb</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>            
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="k">class</span> <span class="nc">DipoleTemperatureModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>    
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;TimeOfFlight&#39;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;drop time&#39;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>    
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;variance&#39;</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39;pixel squared&#39;</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>    
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Cloud Size over time&#39;</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Power</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="k">class</span> <span class="nc">RabiFlopModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>    
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RabiFlopExp&quot;</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition Prob.&#39;</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;Pulse Time&#39;</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Rabi Flop&#39;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">ExpSine</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>    
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>    
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>    
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="k">class</span> <span class="nc">RabiModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RabiFlopExp&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition Prob.&#39;</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="nd">@property</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="k">return</span> <span class="s1">&#39;Pulse Time&#39;</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="k">return</span> <span class="s1">&#39;Detuning&#39;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>    <span class="nd">@property</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>            <span class="k">return</span> <span class="s1">&#39;us&#39;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>            <span class="k">return</span> <span class="s1">&#39;MHz&#39;</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>    <span class="nd">@property</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">plot_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="k">return</span> <span class="s1">&#39;Rabi Flop&#39;</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>            <span class="k">return</span> <span class="s1">&#39;Frequency Scan&#39;</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>    
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>    <span class="nd">@property</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>            <span class="k">return</span> <span class="n">ExpSine</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;FWHM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;Gamma&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a><span class="k">class</span> <span class="nc">RamseyModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyScanExp&quot;</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Excite. Prob.&#39;</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Delay Time&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;us&#39;</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Ramsey Delay Scan&quot;</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">ExpSine</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>           
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="k">class</span> <span class="nc">RamseyPhaseModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyPhaseScanExp&quot;</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Excite. Prob.&#39;</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Phase&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;Turns&#39;</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Ramsey Phase Scan&quot;</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Sine</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a><span class="k">class</span> <span class="nc">RamseyDecayModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>    <span class="c1"># global parameters</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyDelayExp&quot;</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Contrast&#39;</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Delay Time&quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;us&#39;</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Constrast Decay&quot;</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Exp</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>    
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>    
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>    
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="k">class</span> <span class="nc">PicoModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PM2&#39;</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition prob (x10e6)&#39;</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Position&#39;</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Scan&#39;</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;x0&#39;</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>         
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>    
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="k">class</span> <span class="nc">FreqModelGen</span><span class="p">(</span><span class="n">FreqModel</span><span class="p">):</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;FreqModel&#39;</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition prob.&#39;</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;MHz&#39;</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Frequency Scan&#39;</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>         
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1</span> 
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>    
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>    
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="k">class</span> <span class="nc">LinearModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMCal&#39;</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Optimum&#39;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>    <span class="n">y_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 1 Position&#39;</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Calibration&#39;</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Poly</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>    
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a><span class="k">class</span> <span class="nc">PicoAngleModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMAngle&#39;</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Max Contrast Ratio&#39;</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 1 Position&#39;</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e3</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;1e3 steps&#39;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Angle Scan&#39;</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>    <span class="n">main_fit</span><span class="o">=</span><span class="kc">True</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y0&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>    <span class="c1"># man_scale={&#39;sigma&#39;:1, &#39;A&#39;:1, &#39;x0&#39;:1, &#39;y0&#39;:1}</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>    
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>    
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="k">class</span> <span class="nc">PicoScanModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMAngle_Compensation&#39;</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Contrast Ratio&#39;</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Position&#39;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e3</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;1e3 steps&#39;</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Angle Compensation Scan&#39;</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y0&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>    <span class="c1"># man_scale={&#39;sigma&#39;:1, &#39;A&#39;:1, &#39;x0&#39;:1, &#39;y0&#39;:1}</span>
</span></pre></div>


            </section>
                <section id="MyModel">
                            <input id="MyModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MyModel</span><wbr>(<span class="base">scan_framework.models.time_freq_model.TimeFreqModel</span>):

                <label class="view-source-button" for="MyModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel-27"><a href="#MyModel-27"><span class="linenos"> 27</span></a><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">TimeFreqModel</span><span class="p">):</span>
</span><span id="MyModel-28"><a href="#MyModel-28"><span class="linenos"> 28</span></a>    
</span><span id="MyModel-29"><a href="#MyModel-29"><span class="linenos"> 29</span></a>    <span class="c1"># global parameters</span>
</span><span id="MyModel-30"><a href="#MyModel-30"><span class="linenos"> 30</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;LorentzianTest.%transition&#39;</span>
</span><span id="MyModel-31"><a href="#MyModel-31"><span class="linenos"> 31</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span>
</span><span id="MyModel-32"><a href="#MyModel-32"><span class="linenos"> 32</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Frequency/Time Scan&#39;</span>
</span><span id="MyModel-33"><a href="#MyModel-33"><span class="linenos"> 33</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MyModel-34"><a href="#MyModel-34"><span class="linenos"> 34</span></a>
</span><span id="MyModel-35"><a href="#MyModel-35"><span class="linenos"> 35</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-36"><a href="#MyModel-36"><span class="linenos"> 36</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-37"><a href="#MyModel-37"><span class="linenos"> 37</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-38"><a href="#MyModel-38"><span class="linenos"> 38</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span><span id="MyModel-39"><a href="#MyModel-39"><span class="linenos"> 39</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-40"><a href="#MyModel-40"><span class="linenos"> 40</span></a>            <span class="k">return</span> <span class="n">Sine</span>
</span><span id="MyModel-41"><a href="#MyModel-41"><span class="linenos"> 41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-42"><a href="#MyModel-42"><span class="linenos"> 42</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-43"><a href="#MyModel-43"><span class="linenos"> 43</span></a>
</span><span id="MyModel-44"><a href="#MyModel-44"><span class="linenos"> 44</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-45"><a href="#MyModel-45"><span class="linenos"> 45</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-46"><a href="#MyModel-46"><span class="linenos"> 46</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-47"><a href="#MyModel-47"><span class="linenos"> 47</span></a>            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">,</span> <span class="s1">&#39;center freq&#39;</span><span class="p">]</span>
</span><span id="MyModel-48"><a href="#MyModel-48"><span class="linenos"> 48</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-49"><a href="#MyModel-49"><span class="linenos"> 49</span></a>            <span class="k">return</span> <span class="s1">&#39;f&#39;</span>
</span><span id="MyModel-50"><a href="#MyModel-50"><span class="linenos"> 50</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-51"><a href="#MyModel-51"><span class="linenos"> 51</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-52"><a href="#MyModel-52"><span class="linenos"> 52</span></a>
</span><span id="MyModel-53"><a href="#MyModel-53"><span class="linenos"> 53</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-54"><a href="#MyModel-54"><span class="linenos"> 54</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-55"><a href="#MyModel-55"><span class="linenos"> 55</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-56"><a href="#MyModel-56"><span class="linenos"> 56</span></a>            <span class="k">return</span> <span class="s2">&quot;Hz&quot;</span>
</span><span id="MyModel-57"><a href="#MyModel-57"><span class="linenos"> 57</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-58"><a href="#MyModel-58"><span class="linenos"> 58</span></a>            <span class="k">return</span> <span class="s2">&quot;s&quot;</span>
</span><span id="MyModel-59"><a href="#MyModel-59"><span class="linenos"> 59</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-60"><a href="#MyModel-60"><span class="linenos"> 60</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-61"><a href="#MyModel-61"><span class="linenos"> 61</span></a>
</span><span id="MyModel-62"><a href="#MyModel-62"><span class="linenos"> 62</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-63"><a href="#MyModel-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-64"><a href="#MyModel-64"><span class="linenos"> 64</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-65"><a href="#MyModel-65"><span class="linenos"> 65</span></a>            <span class="k">return</span> <span class="s2">&quot;Frequency&quot;</span>
</span><span id="MyModel-66"><a href="#MyModel-66"><span class="linenos"> 66</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-67"><a href="#MyModel-67"><span class="linenos"> 67</span></a>            <span class="k">return</span> <span class="s2">&quot;time&quot;</span>
</span><span id="MyModel-68"><a href="#MyModel-68"><span class="linenos"> 68</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-69"><a href="#MyModel-69"><span class="linenos"> 69</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
</span><span id="MyModel-70"><a href="#MyModel-70"><span class="linenos"> 70</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-71"><a href="#MyModel-71"><span class="linenos"> 71</span></a>
</span><span id="MyModel-72"><a href="#MyModel-72"><span class="linenos"> 72</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-73"><a href="#MyModel-73"><span class="linenos"> 73</span></a>    <span class="k">def</span> <span class="nf">guess</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-74"><a href="#MyModel-74"><span class="linenos"> 74</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-75"><a href="#MyModel-75"><span class="linenos"> 75</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="MyModel-76"><a href="#MyModel-76"><span class="linenos"> 76</span></a>                    <span class="s2">&quot;Gamma&quot;</span><span class="p">:</span><span class="mi">10</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span>
</span><span id="MyModel-77"><a href="#MyModel-77"><span class="linenos"> 77</span></a>                    <span class="s2">&quot;x0&quot;</span><span class="p">:</span><span class="mi">500</span><span class="o">*</span><span class="mf">1e6</span><span class="p">}</span>
</span><span id="MyModel-78"><a href="#MyModel-78"><span class="linenos"> 78</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-79"><a href="#MyModel-79"><span class="linenos"> 79</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="MyModel-80"><a href="#MyModel-80"><span class="linenos"> 80</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mf">1e5</span><span class="p">,</span>
</span><span id="MyModel-81"><a href="#MyModel-81"><span class="linenos"> 81</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MyModel-82"><a href="#MyModel-82"><span class="linenos"> 82</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="MyModel-83"><a href="#MyModel-83"><span class="linenos"> 83</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-84"><a href="#MyModel-84"><span class="linenos"> 84</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-85"><a href="#MyModel-85"><span class="linenos"> 85</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-86"><a href="#MyModel-86"><span class="linenos"> 86</span></a>    <span class="k">def</span> <span class="nf">hold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-87"><a href="#MyModel-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-88"><a href="#MyModel-88"><span class="linenos"> 88</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="MyModel-89"><a href="#MyModel-89"><span class="linenos"> 89</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-90"><a href="#MyModel-90"><span class="linenos"> 90</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="MyModel-91"><a href="#MyModel-91"><span class="linenos"> 91</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-92"><a href="#MyModel-92"><span class="linenos"> 92</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-93"><a href="#MyModel-93"><span class="linenos"> 93</span></a>
</span><span id="MyModel-94"><a href="#MyModel-94"><span class="linenos"> 94</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-95"><a href="#MyModel-95"><span class="linenos"> 95</span></a>    <span class="k">def</span> <span class="nf">man_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-96"><a href="#MyModel-96"><span class="linenos"> 96</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-97"><a href="#MyModel-97"><span class="linenos"> 97</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.8</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="mf">1.2</span><span class="o">*</span><span class="mf">1e3</span><span class="p">],</span>
</span><span id="MyModel-98"><a href="#MyModel-98"><span class="linenos"> 98</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">400</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">600</span><span class="o">*</span><span class="mf">1e6</span><span class="p">],</span>
</span><span id="MyModel-99"><a href="#MyModel-99"><span class="linenos"> 99</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span><span class="mi">50</span><span class="o">*</span><span class="mf">1e6</span><span class="p">]</span>
</span><span id="MyModel-100"><a href="#MyModel-100"><span class="linenos">100</span></a>                    <span class="p">}</span>
</span><span id="MyModel-101"><a href="#MyModel-101"><span class="linenos">101</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-102"><a href="#MyModel-102"><span class="linenos">102</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">1500</span><span class="p">],</span>
</span><span id="MyModel-103"><a href="#MyModel-103"><span class="linenos">103</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:[</span><span class="mf">10e3</span><span class="p">,</span> <span class="mf">50e6</span><span class="p">],</span>
</span><span id="MyModel-104"><a href="#MyModel-104"><span class="linenos">104</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:[</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
</span><span id="MyModel-105"><a href="#MyModel-105"><span class="linenos">105</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">]}</span>
</span><span id="MyModel-106"><a href="#MyModel-106"><span class="linenos">106</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-107"><a href="#MyModel-107"><span class="linenos">107</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-108"><a href="#MyModel-108"><span class="linenos">108</span></a>
</span><span id="MyModel-109"><a href="#MyModel-109"><span class="linenos">109</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-110"><a href="#MyModel-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">man_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-111"><a href="#MyModel-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel-112"><a href="#MyModel-112"><span class="linenos">112</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="MyModel-113"><a href="#MyModel-113"><span class="linenos">113</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="MyModel-114"><a href="#MyModel-114"><span class="linenos">114</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span>
</span><span id="MyModel-115"><a href="#MyModel-115"><span class="linenos">115</span></a>                    <span class="p">}</span>
</span><span id="MyModel-116"><a href="#MyModel-116"><span class="linenos">116</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel-117"><a href="#MyModel-117"><span class="linenos">117</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MyModel-118"><a href="#MyModel-118"><span class="linenos">118</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="MyModel-119"><a href="#MyModel-119"><span class="linenos">119</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="mf">3.14159</span><span class="p">,</span>
</span><span id="MyModel-120"><a href="#MyModel-120"><span class="linenos">120</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
</span><span id="MyModel-121"><a href="#MyModel-121"><span class="linenos">121</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel-122"><a href="#MyModel-122"><span class="linenos">122</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span><span id="MyModel-123"><a href="#MyModel-123"><span class="linenos">123</span></a>
</span><span id="MyModel-124"><a href="#MyModel-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="MyModel-125"><a href="#MyModel-125"><span class="linenos">125</span></a>        <span class="k">pass</span>
</span><span id="MyModel-126"><a href="#MyModel-126"><span class="linenos">126</span></a>
</span><span id="MyModel-127"><a href="#MyModel-127"><span class="linenos">127</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-128"><a href="#MyModel-128"><span class="linenos">128</span></a>    <span class="k">def</span> <span class="nf">validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-129"><a href="#MyModel-129"><span class="linenos">129</span></a>        <span class="n">validators</span> <span class="o">=</span>   <span class="p">{</span>
</span><span id="MyModel-130"><a href="#MyModel-130"><span class="linenos">130</span></a>            <span class="s2">&quot;analysis.r2&quot;</span><span class="p">:{</span>
</span><span id="MyModel-131"><a href="#MyModel-131"><span class="linenos">131</span></a>                <span class="s2">&quot;greater_than&quot;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">}</span>
</span><span id="MyModel-132"><a href="#MyModel-132"><span class="linenos">132</span></a>            <span class="p">}</span>
</span><span id="MyModel-133"><a href="#MyModel-133"><span class="linenos">133</span></a>        <span class="k">return</span> <span class="n">validators</span>
</span><span id="MyModel-134"><a href="#MyModel-134"><span class="linenos">134</span></a>
</span><span id="MyModel-135"><a href="#MyModel-135"><span class="linenos">135</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-136"><a href="#MyModel-136"><span class="linenos">136</span></a>    <span class="k">def</span> <span class="nf">strong_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-137"><a href="#MyModel-137"><span class="linenos">137</span></a>        <span class="c1"># this one will actually cancel the experiment</span>
</span><span id="MyModel-138"><a href="#MyModel-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="MyModel-139"><a href="#MyModel-139"><span class="linenos">139</span></a>
</span><span id="MyModel-140"><a href="#MyModel-140"><span class="linenos">140</span></a>    <span class="nd">@property</span>
</span><span id="MyModel-141"><a href="#MyModel-141"><span class="linenos">141</span></a>    <span class="k">def</span> <span class="nf">pre_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel-142"><a href="#MyModel-142"><span class="linenos">142</span></a>        <span class="c1"># ensures data looks a certain way before trying to fit</span>
</span><span id="MyModel-143"><a href="#MyModel-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="MyModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;LorentzianTest.%transition&#39;</span>

        
    </div>
    <a class="headerlink" href="#MyModel.namespace"></a>
    
    

                            </div>
                            <div id="MyModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Counts&#39;</span>

        
    </div>
    <a class="headerlink" href="#MyModel.y_label"></a>
    
    

                            </div>
                            <div id="MyModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Frequency/Time Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#MyModel.plot_title"></a>
    
    

                            </div>
                            <div id="MyModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#MyModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="MyModel.fit_function" class="classattr">
                                        <input id="MyModel.fit_function-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">fit_function</span>

                <label class="view-source-button" for="MyModel.fit_function-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.fit_function"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.fit_function-35"><a href="#MyModel.fit_function-35"><span class="linenos">35</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.fit_function-36"><a href="#MyModel.fit_function-36"><span class="linenos">36</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.fit_function-37"><a href="#MyModel.fit_function-37"><span class="linenos">37</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.fit_function-38"><a href="#MyModel.fit_function-38"><span class="linenos">38</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span><span id="MyModel.fit_function-39"><a href="#MyModel.fit_function-39"><span class="linenos">39</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.fit_function-40"><a href="#MyModel.fit_function-40"><span class="linenos">40</span></a>            <span class="k">return</span> <span class="n">Sine</span>
</span><span id="MyModel.fit_function-41"><a href="#MyModel.fit_function-41"><span class="linenos">41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.fit_function-42"><a href="#MyModel.fit_function-42"><span class="linenos">42</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="MyModel.main_fit" class="classattr">
                                        <input id="MyModel.main_fit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">main_fit</span>

                <label class="view-source-button" for="MyModel.main_fit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.main_fit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.main_fit-44"><a href="#MyModel.main_fit-44"><span class="linenos">44</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.main_fit-45"><a href="#MyModel.main_fit-45"><span class="linenos">45</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.main_fit-46"><a href="#MyModel.main_fit-46"><span class="linenos">46</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.main_fit-47"><a href="#MyModel.main_fit-47"><span class="linenos">47</span></a>            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;x0&#39;</span><span class="p">,</span> <span class="s1">&#39;center freq&#39;</span><span class="p">]</span>
</span><span id="MyModel.main_fit-48"><a href="#MyModel.main_fit-48"><span class="linenos">48</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.main_fit-49"><a href="#MyModel.main_fit-49"><span class="linenos">49</span></a>            <span class="k">return</span> <span class="s1">&#39;f&#39;</span>
</span><span id="MyModel.main_fit-50"><a href="#MyModel.main_fit-50"><span class="linenos">50</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.main_fit-51"><a href="#MyModel.main_fit-51"><span class="linenos">51</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="MyModel.x_units" class="classattr">
                                        <input id="MyModel.x_units-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">x_units</span>

                <label class="view-source-button" for="MyModel.x_units-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.x_units"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.x_units-53"><a href="#MyModel.x_units-53"><span class="linenos">53</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.x_units-54"><a href="#MyModel.x_units-54"><span class="linenos">54</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.x_units-55"><a href="#MyModel.x_units-55"><span class="linenos">55</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.x_units-56"><a href="#MyModel.x_units-56"><span class="linenos">56</span></a>            <span class="k">return</span> <span class="s2">&quot;Hz&quot;</span>
</span><span id="MyModel.x_units-57"><a href="#MyModel.x_units-57"><span class="linenos">57</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.x_units-58"><a href="#MyModel.x_units-58"><span class="linenos">58</span></a>            <span class="k">return</span> <span class="s2">&quot;s&quot;</span>
</span><span id="MyModel.x_units-59"><a href="#MyModel.x_units-59"><span class="linenos">59</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.x_units-60"><a href="#MyModel.x_units-60"><span class="linenos">60</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>str(object='') -> str
str(bytes_or_buffer[, encoding[, errors]]) -> str</p>

<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p>
</div>


                            </div>
                            <div id="MyModel.x_label" class="classattr">
                                        <input id="MyModel.x_label-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">x_label</span>

                <label class="view-source-button" for="MyModel.x_label-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.x_label"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.x_label-62"><a href="#MyModel.x_label-62"><span class="linenos">62</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.x_label-63"><a href="#MyModel.x_label-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.x_label-64"><a href="#MyModel.x_label-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.x_label-65"><a href="#MyModel.x_label-65"><span class="linenos">65</span></a>            <span class="k">return</span> <span class="s2">&quot;Frequency&quot;</span>
</span><span id="MyModel.x_label-66"><a href="#MyModel.x_label-66"><span class="linenos">66</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.x_label-67"><a href="#MyModel.x_label-67"><span class="linenos">67</span></a>            <span class="k">return</span> <span class="s2">&quot;time&quot;</span>
</span><span id="MyModel.x_label-68"><a href="#MyModel.x_label-68"><span class="linenos">68</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.x_label-69"><a href="#MyModel.x_label-69"><span class="linenos">69</span></a>            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
</span><span id="MyModel.x_label-70"><a href="#MyModel.x_label-70"><span class="linenos">70</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>str(object='') -> str
str(bytes_or_buffer[, encoding[, errors]]) -> str</p>

<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p>
</div>


                            </div>
                            <div id="MyModel.guess" class="classattr">
                                        <input id="MyModel.guess-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">guess</span>

                <label class="view-source-button" for="MyModel.guess-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.guess"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.guess-72"><a href="#MyModel.guess-72"><span class="linenos">72</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.guess-73"><a href="#MyModel.guess-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">guess</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.guess-74"><a href="#MyModel.guess-74"><span class="linenos">74</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.guess-75"><a href="#MyModel.guess-75"><span class="linenos">75</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="MyModel.guess-76"><a href="#MyModel.guess-76"><span class="linenos">76</span></a>                    <span class="s2">&quot;Gamma&quot;</span><span class="p">:</span><span class="mi">10</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span>
</span><span id="MyModel.guess-77"><a href="#MyModel.guess-77"><span class="linenos">77</span></a>                    <span class="s2">&quot;x0&quot;</span><span class="p">:</span><span class="mi">500</span><span class="o">*</span><span class="mf">1e6</span><span class="p">}</span>
</span><span id="MyModel.guess-78"><a href="#MyModel.guess-78"><span class="linenos">78</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.guess-79"><a href="#MyModel.guess-79"><span class="linenos">79</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
</span><span id="MyModel.guess-80"><a href="#MyModel.guess-80"><span class="linenos">80</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mf">1e5</span><span class="p">,</span>
</span><span id="MyModel.guess-81"><a href="#MyModel.guess-81"><span class="linenos">81</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MyModel.guess-82"><a href="#MyModel.guess-82"><span class="linenos">82</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="MyModel.guess-83"><a href="#MyModel.guess-83"><span class="linenos">83</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.guess-84"><a href="#MyModel.guess-84"><span class="linenos">84</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>dict() -> new empty dictionary
dict(mapping) -> new dictionary initialized from a mapping object's
    (key, value) pairs
dict(iterable) -> new dictionary initialized as if via:
    d = {}
    for k, v in iterable:
        d[k] = v
dict(**kwargs) -> new dictionary initialized with the name=value pairs
    in the keyword argument list.  For example:  dict(one=1, two=2)</p>
</div>


                            </div>
                            <div id="MyModel.hold" class="classattr">
                                        <input id="MyModel.hold-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">hold</span>

                <label class="view-source-button" for="MyModel.hold-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.hold"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.hold-85"><a href="#MyModel.hold-85"><span class="linenos">85</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.hold-86"><a href="#MyModel.hold-86"><span class="linenos">86</span></a>    <span class="k">def</span> <span class="nf">hold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.hold-87"><a href="#MyModel.hold-87"><span class="linenos">87</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.hold-88"><a href="#MyModel.hold-88"><span class="linenos">88</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="MyModel.hold-89"><a href="#MyModel.hold-89"><span class="linenos">89</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.hold-90"><a href="#MyModel.hold-90"><span class="linenos">90</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="MyModel.hold-91"><a href="#MyModel.hold-91"><span class="linenos">91</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.hold-92"><a href="#MyModel.hold-92"><span class="linenos">92</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="MyModel.man_bounds" class="classattr">
                                        <input id="MyModel.man_bounds-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">man_bounds</span>

                <label class="view-source-button" for="MyModel.man_bounds-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.man_bounds"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.man_bounds-94"><a href="#MyModel.man_bounds-94"><span class="linenos"> 94</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.man_bounds-95"><a href="#MyModel.man_bounds-95"><span class="linenos"> 95</span></a>    <span class="k">def</span> <span class="nf">man_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.man_bounds-96"><a href="#MyModel.man_bounds-96"><span class="linenos"> 96</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.man_bounds-97"><a href="#MyModel.man_bounds-97"><span class="linenos"> 97</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.8</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="mf">1.2</span><span class="o">*</span><span class="mf">1e3</span><span class="p">],</span>
</span><span id="MyModel.man_bounds-98"><a href="#MyModel.man_bounds-98"><span class="linenos"> 98</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">400</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">600</span><span class="o">*</span><span class="mf">1e6</span><span class="p">],</span>
</span><span id="MyModel.man_bounds-99"><a href="#MyModel.man_bounds-99"><span class="linenos"> 99</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="mf">1e6</span><span class="p">,</span><span class="mi">50</span><span class="o">*</span><span class="mf">1e6</span><span class="p">]</span>
</span><span id="MyModel.man_bounds-100"><a href="#MyModel.man_bounds-100"><span class="linenos">100</span></a>                    <span class="p">}</span>
</span><span id="MyModel.man_bounds-101"><a href="#MyModel.man_bounds-101"><span class="linenos">101</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.man_bounds-102"><a href="#MyModel.man_bounds-102"><span class="linenos">102</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">1500</span><span class="p">],</span>
</span><span id="MyModel.man_bounds-103"><a href="#MyModel.man_bounds-103"><span class="linenos">103</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:[</span><span class="mf">10e3</span><span class="p">,</span> <span class="mf">50e6</span><span class="p">],</span>
</span><span id="MyModel.man_bounds-104"><a href="#MyModel.man_bounds-104"><span class="linenos">104</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:[</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">],</span>
</span><span id="MyModel.man_bounds-105"><a href="#MyModel.man_bounds-105"><span class="linenos">105</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">]}</span>
</span><span id="MyModel.man_bounds-106"><a href="#MyModel.man_bounds-106"><span class="linenos">106</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.man_bounds-107"><a href="#MyModel.man_bounds-107"><span class="linenos">107</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>dict() -> new empty dictionary
dict(mapping) -> new dictionary initialized from a mapping object's
    (key, value) pairs
dict(iterable) -> new dictionary initialized as if via:
    d = {}
    for k, v in iterable:
        d[k] = v
dict(**kwargs) -> new dictionary initialized with the name=value pairs
    in the keyword argument list.  For example:  dict(one=1, two=2)</p>
</div>


                            </div>
                            <div id="MyModel.man_scale" class="classattr">
                                        <input id="MyModel.man_scale-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">man_scale</span>

                <label class="view-source-button" for="MyModel.man_scale-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.man_scale"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.man_scale-109"><a href="#MyModel.man_scale-109"><span class="linenos">109</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.man_scale-110"><a href="#MyModel.man_scale-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">man_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.man_scale-111"><a href="#MyModel.man_scale-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span>
</span><span id="MyModel.man_scale-112"><a href="#MyModel.man_scale-112"><span class="linenos">112</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="MyModel.man_scale-113"><a href="#MyModel.man_scale-113"><span class="linenos">113</span></a>                    <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="MyModel.man_scale-114"><a href="#MyModel.man_scale-114"><span class="linenos">114</span></a>                    <span class="s1">&#39;Gamma&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="o">*</span><span class="n">MHz</span>
</span><span id="MyModel.man_scale-115"><a href="#MyModel.man_scale-115"><span class="linenos">115</span></a>                    <span class="p">}</span>
</span><span id="MyModel.man_scale-116"><a href="#MyModel.man_scale-116"><span class="linenos">116</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="MyModel.man_scale-117"><a href="#MyModel.man_scale-117"><span class="linenos">117</span></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MyModel.man_scale-118"><a href="#MyModel.man_scale-118"><span class="linenos">118</span></a>                    <span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mi">1</span><span class="o">*</span><span class="n">MHz</span><span class="p">,</span>
</span><span id="MyModel.man_scale-119"><a href="#MyModel.man_scale-119"><span class="linenos">119</span></a>                    <span class="s2">&quot;phi&quot;</span><span class="p">:</span><span class="mf">3.14159</span><span class="p">,</span>
</span><span id="MyModel.man_scale-120"><a href="#MyModel.man_scale-120"><span class="linenos">120</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
</span><span id="MyModel.man_scale-121"><a href="#MyModel.man_scale-121"><span class="linenos">121</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MyModel.man_scale-122"><a href="#MyModel.man_scale-122"><span class="linenos">122</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not Valid Scan Type&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>dict() -> new empty dictionary
dict(mapping) -> new dictionary initialized from a mapping object's
    (key, value) pairs
dict(iterable) -> new dictionary initialized as if via:
    d = {}
    for k, v in iterable:
        d[k] = v
dict(**kwargs) -> new dictionary initialized with the name=value pairs
    in the keyword argument list.  For example:  dict(one=1, two=2)</p>
</div>


                            </div>
                            <div id="MyModel.before_validate" class="classattr">
                                        <input id="MyModel.before_validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">before_validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MyModel.before_validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.before_validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.before_validate-124"><a href="#MyModel.before_validate-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="MyModel.before_validate-125"><a href="#MyModel.before_validate-125"><span class="linenos">125</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>User callback (runs on host).</p>

<p>Executed after a fit was successfully performed by the scan model, but before
fits are validated or saved to the datasets.  This callback allows additional fit parameters
to be calculated from the parameters of the fit function.  e.g. calculating a pi time from
a transition rate.  Any calculated fit parameters will also be validated by any validation
rules that are defined for name of the calculated parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fit</strong>:  Fit object for the fit that was just performed</li>
</ul>
</div>


                            </div>
                            <div id="MyModel.validators" class="classattr">
                                        <input id="MyModel.validators-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">validators</span>

                <label class="view-source-button" for="MyModel.validators-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.validators"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.validators-127"><a href="#MyModel.validators-127"><span class="linenos">127</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.validators-128"><a href="#MyModel.validators-128"><span class="linenos">128</span></a>    <span class="k">def</span> <span class="nf">validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.validators-129"><a href="#MyModel.validators-129"><span class="linenos">129</span></a>        <span class="n">validators</span> <span class="o">=</span>   <span class="p">{</span>
</span><span id="MyModel.validators-130"><a href="#MyModel.validators-130"><span class="linenos">130</span></a>            <span class="s2">&quot;analysis.r2&quot;</span><span class="p">:{</span>
</span><span id="MyModel.validators-131"><a href="#MyModel.validators-131"><span class="linenos">131</span></a>                <span class="s2">&quot;greater_than&quot;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">}</span>
</span><span id="MyModel.validators-132"><a href="#MyModel.validators-132"><span class="linenos">132</span></a>            <span class="p">}</span>
</span><span id="MyModel.validators-133"><a href="#MyModel.validators-133"><span class="linenos">133</span></a>        <span class="k">return</span> <span class="n">validators</span>
</span></pre></div>


            <div class="docstring"><p>dict() -> new empty dictionary
dict(mapping) -> new dictionary initialized from a mapping object's
    (key, value) pairs
dict(iterable) -> new dictionary initialized as if via:
    d = {}
    for k, v in iterable:
        d[k] = v
dict(**kwargs) -> new dictionary initialized with the name=value pairs
    in the keyword argument list.  For example:  dict(one=1, two=2)</p>
</div>


                            </div>
                            <div id="MyModel.strong_validators" class="classattr">
                                        <input id="MyModel.strong_validators-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">strong_validators</span>

                <label class="view-source-button" for="MyModel.strong_validators-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.strong_validators"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.strong_validators-135"><a href="#MyModel.strong_validators-135"><span class="linenos">135</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.strong_validators-136"><a href="#MyModel.strong_validators-136"><span class="linenos">136</span></a>    <span class="k">def</span> <span class="nf">strong_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.strong_validators-137"><a href="#MyModel.strong_validators-137"><span class="linenos">137</span></a>        <span class="c1"># this one will actually cancel the experiment</span>
</span><span id="MyModel.strong_validators-138"><a href="#MyModel.strong_validators-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="MyModel.pre_validators" class="classattr">
                                        <input id="MyModel.pre_validators-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">pre_validators</span>

                <label class="view-source-button" for="MyModel.pre_validators-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MyModel.pre_validators"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MyModel.pre_validators-140"><a href="#MyModel.pre_validators-140"><span class="linenos">140</span></a>    <span class="nd">@property</span>
</span><span id="MyModel.pre_validators-141"><a href="#MyModel.pre_validators-141"><span class="linenos">141</span></a>    <span class="k">def</span> <span class="nf">pre_validators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MyModel.pre_validators-142"><a href="#MyModel.pre_validators-142"><span class="linenos">142</span></a>        <span class="c1"># ensures data looks a certain way before trying to fit</span>
</span><span id="MyModel.pre_validators-143"><a href="#MyModel.pre_validators-143"><span class="linenos">143</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="MyModel.__init__" class="function">HasEnvironment</dd>
                <dd id="MyModel.children" class="variable">children</dd>
                <dd id="MyModel.register_child" class="function">register_child</dd>
                <dd id="MyModel.call_child_method" class="function">call_child_method</dd>
                <dd id="MyModel.get_argument" class="function">get_argument</dd>
                <dd id="MyModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="MyModel.get_device_db" class="function">get_device_db</dd>
                <dd id="MyModel.get_device" class="function">get_device</dd>
                <dd id="MyModel.setattr_device" class="function">setattr_device</dd>
                <dd id="MyModel.set_dataset" class="function">set_dataset</dd>
                <dd id="MyModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="MyModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="MyModel.get_dataset" class="function">get_dataset</dd>
                <dd id="MyModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="MyModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="MyModel.default_fit" class="variable">default_fit</dd>
                <dd id="MyModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="MyModel.x_offset" class="variable">x_offset</dd>
                <dd id="MyModel.subspace" class="variable">subspace</dd>
                <dd id="MyModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="MyModel.broadcast" class="variable">broadcast</dd>
                <dd id="MyModel.persist" class="variable">persist</dd>
                <dd id="MyModel.save" class="variable">save</dd>
                <dd id="MyModel.mirror" class="variable">mirror</dd>
                <dd id="MyModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="MyModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="MyModel.fit_map" class="variable">fit_map</dd>
                <dd id="MyModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="MyModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="MyModel.bin_start" class="variable">bin_start</dd>
                <dd id="MyModel.bin_end" class="variable">bin_end</dd>
                <dd id="MyModel.x_scale" class="variable">x_scale</dd>
                <dd id="MyModel.y_scale" class="variable">y_scale</dd>
                <dd id="MyModel.y_units" class="variable">y_units</dd>
                <dd id="MyModel.counts" class="variable">counts</dd>
                <dd id="MyModel.fits_set" class="variable">fits_set</dd>
                <dd id="MyModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="MyModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="MyModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="MyModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="MyModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="MyModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="MyModel.type" class="variable">type</dd>
                <dd id="MyModel.report" class="function">report</dd>
                <dd id="MyModel.build" class="function">build</dd>
                <dd id="MyModel.reset_state" class="function">reset_state</dd>
                <dd id="MyModel.bind" class="function">bind</dd>
                <dd id="MyModel.attach" class="function">attach</dd>
                <dd id="MyModel.load" class="function">load</dd>
                <dd id="MyModel.init_datasets" class="function">init_datasets</dd>
                <dd id="MyModel.init_plots" class="function">init_plots</dd>
                <dd id="MyModel.write_datasets" class="function">write_datasets</dd>
                <dd id="MyModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="MyModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="MyModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="MyModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="MyModel.mutate_points" class="function">mutate_points</dd>
                <dd id="MyModel.mutate_means" class="function">mutate_means</dd>
                <dd id="MyModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="MyModel.get_means" class="function">get_means</dd>
                <dd id="MyModel.get_means_key" class="function">get_means_key</dd>
                <dd id="MyModel.errors" class="variable">errors</dd>
                <dd id="MyModel.xs" class="variable">xs</dd>
                <dd id="MyModel.get_xs" class="function">get_xs</dd>
                <dd id="MyModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="MyModel.load_counts" class="function">load_counts</dd>
                <dd id="MyModel.load_xs" class="function">load_xs</dd>
                <dd id="MyModel.load_errors" class="function">load_errors</dd>
                <dd id="MyModel.load_means" class="function">load_means</dd>
                <dd id="MyModel.calc_hist" class="function">calc_hist</dd>
                <dd id="MyModel.calc_mean" class="function">calc_mean</dd>
                <dd id="MyModel.calc_error" class="function">calc_error</dd>
                <dd id="MyModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="MyModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="MyModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="MyModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="MyModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="MyModel.get_fit" class="function">get_fit</dd>
                <dd id="MyModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="MyModel.get_guess" class="function">get_guess</dd>
                <dd id="MyModel.fit_data" class="function">fit_data</dd>
                <dd id="MyModel.validate_fit" class="function">validate_fit</dd>
                <dd id="MyModel.save_fit" class="function">save_fit</dd>
                <dd id="MyModel.set_fits" class="function">set_fits</dd>
                <dd id="MyModel.report_fit" class="function">report_fit</dd>
                <dd id="MyModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="MyModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="MyModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="MyModel.valid" class="variable">valid</dd>
                <dd id="MyModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="MyModel.map_namespace" class="function">map_namespace</dd>
                <dd id="MyModel.key" class="function">key</dd>
                <dd id="MyModel.default_key" class="function">default_key</dd>
                <dd id="MyModel.init" class="function">init</dd>
                <dd id="MyModel.write" class="function">write</dd>
                <dd id="MyModel.set" class="function">set</dd>
                <dd id="MyModel.get_default" class="function">get_default</dd>
                <dd id="MyModel.get" class="function">get</dd>
                <dd id="MyModel.mutate" class="function">mutate</dd>
                <dd id="MyModel.exists" class="function">exists</dd>
                <dd id="MyModel.create" class="function">create</dd>
                <dd id="MyModel.setattr" class="function">setattr</dd>
                <dd id="MyModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="MyModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="MyModel.validate_between" class="function">validate_between</dd>
                <dd id="MyModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="MyModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="BlankModel">
                            <input id="BlankModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BlankModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="BlankModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BlankModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BlankModel-145"><a href="#BlankModel-145"><span class="linenos">145</span></a><span class="k">class</span> <span class="nc">BlankModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="BlankModel-146"><a href="#BlankModel-146"><span class="linenos">146</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="BlankModel-147"><a href="#BlankModel-147"><span class="linenos">147</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="BlankModel-148"><a href="#BlankModel-148"><span class="linenos">148</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="BlankModel-149"><a href="#BlankModel-149"><span class="linenos">149</span></a>    
</span><span id="BlankModel-150"><a href="#BlankModel-150"><span class="linenos">150</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="BlankModel-151"><a href="#BlankModel-151"><span class="linenos">151</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
</span><span id="BlankModel-152"><a href="#BlankModel-152"><span class="linenos">152</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="BlankModel-153"><a href="#BlankModel-153"><span class="linenos">153</span></a>    
</span><span id="BlankModel-154"><a href="#BlankModel-154"><span class="linenos">154</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="BlankModel-155"><a href="#BlankModel-155"><span class="linenos">155</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="BlankModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.namespace"></a>
    
    

                            </div>
                            <div id="BlankModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.x_label"></a>
    
    

                            </div>
                            <div id="BlankModel.x_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">x_unit</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.x_unit"></a>
    
    

                            </div>
                            <div id="BlankModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.y_label"></a>
    
    

                            </div>
                            <div id="BlankModel.y_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">y_unit</span>        =
<span class="default_value">&#39; &#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.y_unit"></a>
    
    

                            </div>
                            <div id="BlankModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.y_scale"></a>
    
    

                            </div>
                            <div id="BlankModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.plot_title"></a>
    
    

                            </div>
                            <div id="BlankModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#BlankModel.enable_histograms"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="BlankModel.__init__" class="function">HasEnvironment</dd>
                <dd id="BlankModel.children" class="variable">children</dd>
                <dd id="BlankModel.register_child" class="function">register_child</dd>
                <dd id="BlankModel.call_child_method" class="function">call_child_method</dd>
                <dd id="BlankModel.get_argument" class="function">get_argument</dd>
                <dd id="BlankModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="BlankModel.get_device_db" class="function">get_device_db</dd>
                <dd id="BlankModel.get_device" class="function">get_device</dd>
                <dd id="BlankModel.setattr_device" class="function">setattr_device</dd>
                <dd id="BlankModel.set_dataset" class="function">set_dataset</dd>
                <dd id="BlankModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="BlankModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="BlankModel.get_dataset" class="function">get_dataset</dd>
                <dd id="BlankModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="BlankModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.time_model.TimeModel</dt>
                                <dd id="BlankModel.x_units" class="variable">x_units</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="BlankModel.default_fit" class="variable">default_fit</dd>
                <dd id="BlankModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="BlankModel.x_offset" class="variable">x_offset</dd>
                <dd id="BlankModel.subspace" class="variable">subspace</dd>
                <dd id="BlankModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="BlankModel.broadcast" class="variable">broadcast</dd>
                <dd id="BlankModel.persist" class="variable">persist</dd>
                <dd id="BlankModel.save" class="variable">save</dd>
                <dd id="BlankModel.mirror" class="variable">mirror</dd>
                <dd id="BlankModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="BlankModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="BlankModel.fit_map" class="variable">fit_map</dd>
                <dd id="BlankModel.fit_function" class="variable">fit_function</dd>
                <dd id="BlankModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="BlankModel.main_fit" class="variable">main_fit</dd>
                <dd id="BlankModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="BlankModel.guess" class="variable">guess</dd>
                <dd id="BlankModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="BlankModel.man_scale" class="variable">man_scale</dd>
                <dd id="BlankModel.hold" class="variable">hold</dd>
                <dd id="BlankModel.validators" class="variable">validators</dd>
                <dd id="BlankModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="BlankModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="BlankModel.bin_start" class="variable">bin_start</dd>
                <dd id="BlankModel.bin_end" class="variable">bin_end</dd>
                <dd id="BlankModel.x_scale" class="variable">x_scale</dd>
                <dd id="BlankModel.y_units" class="variable">y_units</dd>
                <dd id="BlankModel.counts" class="variable">counts</dd>
                <dd id="BlankModel.fits_set" class="variable">fits_set</dd>
                <dd id="BlankModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="BlankModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="BlankModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="BlankModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="BlankModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="BlankModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="BlankModel.type" class="variable">type</dd>
                <dd id="BlankModel.report" class="function">report</dd>
                <dd id="BlankModel.build" class="function">build</dd>
                <dd id="BlankModel.reset_state" class="function">reset_state</dd>
                <dd id="BlankModel.bind" class="function">bind</dd>
                <dd id="BlankModel.attach" class="function">attach</dd>
                <dd id="BlankModel.load" class="function">load</dd>
                <dd id="BlankModel.init_datasets" class="function">init_datasets</dd>
                <dd id="BlankModel.init_plots" class="function">init_plots</dd>
                <dd id="BlankModel.write_datasets" class="function">write_datasets</dd>
                <dd id="BlankModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="BlankModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="BlankModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="BlankModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="BlankModel.mutate_points" class="function">mutate_points</dd>
                <dd id="BlankModel.mutate_means" class="function">mutate_means</dd>
                <dd id="BlankModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="BlankModel.get_means" class="function">get_means</dd>
                <dd id="BlankModel.get_means_key" class="function">get_means_key</dd>
                <dd id="BlankModel.errors" class="variable">errors</dd>
                <dd id="BlankModel.xs" class="variable">xs</dd>
                <dd id="BlankModel.get_xs" class="function">get_xs</dd>
                <dd id="BlankModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="BlankModel.load_counts" class="function">load_counts</dd>
                <dd id="BlankModel.load_xs" class="function">load_xs</dd>
                <dd id="BlankModel.load_errors" class="function">load_errors</dd>
                <dd id="BlankModel.load_means" class="function">load_means</dd>
                <dd id="BlankModel.calc_hist" class="function">calc_hist</dd>
                <dd id="BlankModel.calc_mean" class="function">calc_mean</dd>
                <dd id="BlankModel.calc_error" class="function">calc_error</dd>
                <dd id="BlankModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="BlankModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="BlankModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="BlankModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="BlankModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="BlankModel.get_fit" class="function">get_fit</dd>
                <dd id="BlankModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="BlankModel.get_guess" class="function">get_guess</dd>
                <dd id="BlankModel.fit_data" class="function">fit_data</dd>
                <dd id="BlankModel.before_validate" class="function">before_validate</dd>
                <dd id="BlankModel.validate_fit" class="function">validate_fit</dd>
                <dd id="BlankModel.save_fit" class="function">save_fit</dd>
                <dd id="BlankModel.set_fits" class="function">set_fits</dd>
                <dd id="BlankModel.report_fit" class="function">report_fit</dd>
                <dd id="BlankModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="BlankModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="BlankModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="BlankModel.valid" class="variable">valid</dd>
                <dd id="BlankModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="BlankModel.map_namespace" class="function">map_namespace</dd>
                <dd id="BlankModel.key" class="function">key</dd>
                <dd id="BlankModel.default_key" class="function">default_key</dd>
                <dd id="BlankModel.init" class="function">init</dd>
                <dd id="BlankModel.write" class="function">write</dd>
                <dd id="BlankModel.set" class="function">set</dd>
                <dd id="BlankModel.get_default" class="function">get_default</dd>
                <dd id="BlankModel.get" class="function">get</dd>
                <dd id="BlankModel.mutate" class="function">mutate</dd>
                <dd id="BlankModel.exists" class="function">exists</dd>
                <dd id="BlankModel.create" class="function">create</dd>
                <dd id="BlankModel.setattr" class="function">setattr</dd>
                <dd id="BlankModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="BlankModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="BlankModel.validate_between" class="function">validate_between</dd>
                <dd id="BlankModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="BlankModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LoadingModel">
                            <input id="LoadingModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LoadingModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="LoadingModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LoadingModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LoadingModel-158"><a href="#LoadingModel-158"><span class="linenos">158</span></a><span class="k">class</span> <span class="nc">LoadingModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="LoadingModel-159"><a href="#LoadingModel-159"><span class="linenos">159</span></a>
</span><span id="LoadingModel-160"><a href="#LoadingModel-160"><span class="linenos">160</span></a>    <span class="c1"># global parameters</span>
</span><span id="LoadingModel-161"><a href="#LoadingModel-161"><span class="linenos">161</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;LoadingExp&quot;</span>
</span><span id="LoadingModel-162"><a href="#LoadingModel-162"><span class="linenos">162</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span>
</span><span id="LoadingModel-163"><a href="#LoadingModel-163"><span class="linenos">163</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;pulse time&#39;</span>
</span><span id="LoadingModel-164"><a href="#LoadingModel-164"><span class="linenos">164</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
</span><span id="LoadingModel-165"><a href="#LoadingModel-165"><span class="linenos">165</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Loading Scan&#39;</span>
</span><span id="LoadingModel-166"><a href="#LoadingModel-166"><span class="linenos">166</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="LoadingModel-167"><a href="#LoadingModel-167"><span class="linenos">167</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Exp</span>
</span><span id="LoadingModel-168"><a href="#LoadingModel-168"><span class="linenos">168</span></a>    <span class="n">man_bounds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
</span><span id="LoadingModel-169"><a href="#LoadingModel-169"><span class="linenos">169</span></a>                    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
</span><span id="LoadingModel-170"><a href="#LoadingModel-170"><span class="linenos">170</span></a>                    <span class="s1">&#39;y0&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">]</span>
</span><span id="LoadingModel-171"><a href="#LoadingModel-171"><span class="linenos">171</span></a>                    <span class="p">}</span>
</span><span id="LoadingModel-172"><a href="#LoadingModel-172"><span class="linenos">172</span></a>    <span class="n">guess</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="LoadingModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;LoadingExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.namespace"></a>
    
    

                            </div>
                            <div id="LoadingModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Counts&#39;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.y_label"></a>
    
    

                            </div>
                            <div id="LoadingModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;pulse time&#39;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.x_label"></a>
    
    

                            </div>
                            <div id="LoadingModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;s&#39;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.x_units"></a>
    
    

                            </div>
                            <div id="LoadingModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Loading Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.plot_title"></a>
    
    

                            </div>
                            <div id="LoadingModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="LoadingModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Exp&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.fit_function"></a>
    
    

                            </div>
                            <div id="LoadingModel.man_bounds" class="classattr">
                                <div class="attr variable">
            <span class="name">man_bounds</span>        =
<span class="default_value">{&#39;A&#39;: [-1000000, 0], &#39;b&#39;: [-5, 0], &#39;y0&#39;: [0, 1000000]}</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.man_bounds"></a>
    
    

                            </div>
                            <div id="LoadingModel.guess" class="classattr">
                                <div class="attr variable">
            <span class="name">guess</span>        =
<span class="default_value">{&#39;b&#39;: -1}</span>

        
    </div>
    <a class="headerlink" href="#LoadingModel.guess"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="LoadingModel.__init__" class="function">HasEnvironment</dd>
                <dd id="LoadingModel.children" class="variable">children</dd>
                <dd id="LoadingModel.register_child" class="function">register_child</dd>
                <dd id="LoadingModel.call_child_method" class="function">call_child_method</dd>
                <dd id="LoadingModel.get_argument" class="function">get_argument</dd>
                <dd id="LoadingModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="LoadingModel.get_device_db" class="function">get_device_db</dd>
                <dd id="LoadingModel.get_device" class="function">get_device</dd>
                <dd id="LoadingModel.setattr_device" class="function">setattr_device</dd>
                <dd id="LoadingModel.set_dataset" class="function">set_dataset</dd>
                <dd id="LoadingModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="LoadingModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="LoadingModel.get_dataset" class="function">get_dataset</dd>
                <dd id="LoadingModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="LoadingModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="LoadingModel.default_fit" class="variable">default_fit</dd>
                <dd id="LoadingModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="LoadingModel.x_offset" class="variable">x_offset</dd>
                <dd id="LoadingModel.subspace" class="variable">subspace</dd>
                <dd id="LoadingModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="LoadingModel.broadcast" class="variable">broadcast</dd>
                <dd id="LoadingModel.persist" class="variable">persist</dd>
                <dd id="LoadingModel.save" class="variable">save</dd>
                <dd id="LoadingModel.mirror" class="variable">mirror</dd>
                <dd id="LoadingModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="LoadingModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="LoadingModel.fit_map" class="variable">fit_map</dd>
                <dd id="LoadingModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="LoadingModel.main_fit" class="variable">main_fit</dd>
                <dd id="LoadingModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="LoadingModel.man_scale" class="variable">man_scale</dd>
                <dd id="LoadingModel.hold" class="variable">hold</dd>
                <dd id="LoadingModel.validators" class="variable">validators</dd>
                <dd id="LoadingModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="LoadingModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="LoadingModel.bin_start" class="variable">bin_start</dd>
                <dd id="LoadingModel.bin_end" class="variable">bin_end</dd>
                <dd id="LoadingModel.x_scale" class="variable">x_scale</dd>
                <dd id="LoadingModel.y_scale" class="variable">y_scale</dd>
                <dd id="LoadingModel.y_units" class="variable">y_units</dd>
                <dd id="LoadingModel.counts" class="variable">counts</dd>
                <dd id="LoadingModel.fits_set" class="variable">fits_set</dd>
                <dd id="LoadingModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="LoadingModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="LoadingModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="LoadingModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="LoadingModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="LoadingModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="LoadingModel.type" class="variable">type</dd>
                <dd id="LoadingModel.report" class="function">report</dd>
                <dd id="LoadingModel.build" class="function">build</dd>
                <dd id="LoadingModel.reset_state" class="function">reset_state</dd>
                <dd id="LoadingModel.bind" class="function">bind</dd>
                <dd id="LoadingModel.attach" class="function">attach</dd>
                <dd id="LoadingModel.load" class="function">load</dd>
                <dd id="LoadingModel.init_datasets" class="function">init_datasets</dd>
                <dd id="LoadingModel.init_plots" class="function">init_plots</dd>
                <dd id="LoadingModel.write_datasets" class="function">write_datasets</dd>
                <dd id="LoadingModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="LoadingModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="LoadingModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="LoadingModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="LoadingModel.mutate_points" class="function">mutate_points</dd>
                <dd id="LoadingModel.mutate_means" class="function">mutate_means</dd>
                <dd id="LoadingModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="LoadingModel.get_means" class="function">get_means</dd>
                <dd id="LoadingModel.get_means_key" class="function">get_means_key</dd>
                <dd id="LoadingModel.errors" class="variable">errors</dd>
                <dd id="LoadingModel.xs" class="variable">xs</dd>
                <dd id="LoadingModel.get_xs" class="function">get_xs</dd>
                <dd id="LoadingModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="LoadingModel.load_counts" class="function">load_counts</dd>
                <dd id="LoadingModel.load_xs" class="function">load_xs</dd>
                <dd id="LoadingModel.load_errors" class="function">load_errors</dd>
                <dd id="LoadingModel.load_means" class="function">load_means</dd>
                <dd id="LoadingModel.calc_hist" class="function">calc_hist</dd>
                <dd id="LoadingModel.calc_mean" class="function">calc_mean</dd>
                <dd id="LoadingModel.calc_error" class="function">calc_error</dd>
                <dd id="LoadingModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="LoadingModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="LoadingModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="LoadingModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="LoadingModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="LoadingModel.get_fit" class="function">get_fit</dd>
                <dd id="LoadingModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="LoadingModel.get_guess" class="function">get_guess</dd>
                <dd id="LoadingModel.fit_data" class="function">fit_data</dd>
                <dd id="LoadingModel.before_validate" class="function">before_validate</dd>
                <dd id="LoadingModel.validate_fit" class="function">validate_fit</dd>
                <dd id="LoadingModel.save_fit" class="function">save_fit</dd>
                <dd id="LoadingModel.set_fits" class="function">set_fits</dd>
                <dd id="LoadingModel.report_fit" class="function">report_fit</dd>
                <dd id="LoadingModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="LoadingModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="LoadingModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="LoadingModel.valid" class="variable">valid</dd>
                <dd id="LoadingModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="LoadingModel.map_namespace" class="function">map_namespace</dd>
                <dd id="LoadingModel.key" class="function">key</dd>
                <dd id="LoadingModel.default_key" class="function">default_key</dd>
                <dd id="LoadingModel.init" class="function">init</dd>
                <dd id="LoadingModel.write" class="function">write</dd>
                <dd id="LoadingModel.set" class="function">set</dd>
                <dd id="LoadingModel.get_default" class="function">get_default</dd>
                <dd id="LoadingModel.get" class="function">get</dd>
                <dd id="LoadingModel.mutate" class="function">mutate</dd>
                <dd id="LoadingModel.exists" class="function">exists</dd>
                <dd id="LoadingModel.create" class="function">create</dd>
                <dd id="LoadingModel.setattr" class="function">setattr</dd>
                <dd id="LoadingModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="LoadingModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="LoadingModel.validate_between" class="function">validate_between</dd>
                <dd id="LoadingModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="LoadingModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="TemperatureModel">
                            <input id="TemperatureModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TemperatureModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="TemperatureModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TemperatureModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TemperatureModel-175"><a href="#TemperatureModel-175"><span class="linenos">175</span></a><span class="k">class</span> <span class="nc">TemperatureModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="TemperatureModel-176"><a href="#TemperatureModel-176"><span class="linenos">176</span></a>    
</span><span id="TemperatureModel-177"><a href="#TemperatureModel-177"><span class="linenos">177</span></a>    
</span><span id="TemperatureModel-178"><a href="#TemperatureModel-178"><span class="linenos">178</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;TOF_temp&#39;</span>
</span><span id="TemperatureModel-179"><a href="#TemperatureModel-179"><span class="linenos">179</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;TOF time&#39;</span>
</span><span id="TemperatureModel-180"><a href="#TemperatureModel-180"><span class="linenos">180</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="TemperatureModel-181"><a href="#TemperatureModel-181"><span class="linenos">181</span></a>    
</span><span id="TemperatureModel-182"><a href="#TemperatureModel-182"><span class="linenos">182</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;variance&#39;</span>
</span><span id="TemperatureModel-183"><a href="#TemperatureModel-183"><span class="linenos">183</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39;pixel squared&#39;</span>
</span><span id="TemperatureModel-184"><a href="#TemperatureModel-184"><span class="linenos">184</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="TemperatureModel-185"><a href="#TemperatureModel-185"><span class="linenos">185</span></a>    
</span><span id="TemperatureModel-186"><a href="#TemperatureModel-186"><span class="linenos">186</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Cloud Radius over time&#39;</span>
</span><span id="TemperatureModel-187"><a href="#TemperatureModel-187"><span class="linenos">187</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="TemperatureModel-188"><a href="#TemperatureModel-188"><span class="linenos">188</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Power</span>
</span><span id="TemperatureModel-189"><a href="#TemperatureModel-189"><span class="linenos">189</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span><span id="TemperatureModel-190"><a href="#TemperatureModel-190"><span class="linenos">190</span></a>    
</span><span id="TemperatureModel-191"><a href="#TemperatureModel-191"><span class="linenos">191</span></a>    <span class="nd">@property</span>
</span><span id="TemperatureModel-192"><a href="#TemperatureModel-192"><span class="linenos">192</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="TemperatureModel-193"><a href="#TemperatureModel-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="s1">&#39;tempX&#39;</span>
</span><span id="TemperatureModel-194"><a href="#TemperatureModel-194"><span class="linenos">194</span></a>    
</span><span id="TemperatureModel-195"><a href="#TemperatureModel-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="TemperatureModel-196"><a href="#TemperatureModel-196"><span class="linenos">196</span></a>        <span class="n">M</span>  <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;atomic mass constant&#39;</span><span class="p">)</span><span class="o">*</span><span class="mf">87.9</span>
</span><span id="TemperatureModel-197"><a href="#TemperatureModel-197"><span class="linenos">197</span></a>        <span class="n">Kb</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;Boltzmann constant&#39;</span><span class="p">)</span>
</span><span id="TemperatureModel-198"><a href="#TemperatureModel-198"><span class="linenos">198</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;tempX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pix2um</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-12</span><span class="o">*</span><span class="n">M</span><span class="o">/</span><span class="n">Kb</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="TemperatureModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;TOF_temp&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.namespace"></a>
    
    

                            </div>
                            <div id="TemperatureModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;TOF time&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.x_label"></a>
    
    

                            </div>
                            <div id="TemperatureModel.x_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">x_unit</span>        =
<span class="default_value">&#39;ms&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.x_unit"></a>
    
    

                            </div>
                            <div id="TemperatureModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;variance&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.y_label"></a>
    
    

                            </div>
                            <div id="TemperatureModel.y_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">y_unit</span>        =
<span class="default_value">&#39;pixel squared&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.y_unit"></a>
    
    

                            </div>
                            <div id="TemperatureModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.y_scale"></a>
    
    

                            </div>
                            <div id="TemperatureModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Cloud Radius over time&#39;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.plot_title"></a>
    
    

                            </div>
                            <div id="TemperatureModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="TemperatureModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Power&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.fit_function"></a>
    
    

                            </div>
                            <div id="TemperatureModel.hold" class="classattr">
                                <div class="attr variable">
            <span class="name">hold</span>        =
<span class="default_value">{&#39;alpha&#39;: 2}</span>

        
    </div>
    <a class="headerlink" href="#TemperatureModel.hold"></a>
    
    

                            </div>
                            <div id="TemperatureModel.main_fit" class="classattr">
                                        <input id="TemperatureModel.main_fit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">main_fit</span>

                <label class="view-source-button" for="TemperatureModel.main_fit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TemperatureModel.main_fit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TemperatureModel.main_fit-191"><a href="#TemperatureModel.main_fit-191"><span class="linenos">191</span></a>    <span class="nd">@property</span>
</span><span id="TemperatureModel.main_fit-192"><a href="#TemperatureModel.main_fit-192"><span class="linenos">192</span></a>    <span class="k">def</span> <span class="nf">main_fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="TemperatureModel.main_fit-193"><a href="#TemperatureModel.main_fit-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="s1">&#39;tempX&#39;</span>
</span></pre></div>


    

                            </div>
                            <div id="TemperatureModel.before_validate" class="classattr">
                                        <input id="TemperatureModel.before_validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">before_validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="TemperatureModel.before_validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TemperatureModel.before_validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TemperatureModel.before_validate-195"><a href="#TemperatureModel.before_validate-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="TemperatureModel.before_validate-196"><a href="#TemperatureModel.before_validate-196"><span class="linenos">196</span></a>        <span class="n">M</span>  <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;atomic mass constant&#39;</span><span class="p">)</span><span class="o">*</span><span class="mf">87.9</span>
</span><span id="TemperatureModel.before_validate-197"><a href="#TemperatureModel.before_validate-197"><span class="linenos">197</span></a>        <span class="n">Kb</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;Boltzmann constant&#39;</span><span class="p">)</span>
</span><span id="TemperatureModel.before_validate-198"><a href="#TemperatureModel.before_validate-198"><span class="linenos">198</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;tempX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pix2um</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-12</span><span class="o">*</span><span class="n">M</span><span class="o">/</span><span class="n">Kb</span>
</span></pre></div>


            <div class="docstring"><p>User callback (runs on host).</p>

<p>Executed after a fit was successfully performed by the scan model, but before
fits are validated or saved to the datasets.  This callback allows additional fit parameters
to be calculated from the parameters of the fit function.  e.g. calculating a pi time from
a transition rate.  Any calculated fit parameters will also be validated by any validation
rules that are defined for name of the calculated parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fit</strong>:  Fit object for the fit that was just performed</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="TemperatureModel.__init__" class="function">HasEnvironment</dd>
                <dd id="TemperatureModel.children" class="variable">children</dd>
                <dd id="TemperatureModel.register_child" class="function">register_child</dd>
                <dd id="TemperatureModel.call_child_method" class="function">call_child_method</dd>
                <dd id="TemperatureModel.get_argument" class="function">get_argument</dd>
                <dd id="TemperatureModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="TemperatureModel.get_device_db" class="function">get_device_db</dd>
                <dd id="TemperatureModel.get_device" class="function">get_device</dd>
                <dd id="TemperatureModel.setattr_device" class="function">setattr_device</dd>
                <dd id="TemperatureModel.set_dataset" class="function">set_dataset</dd>
                <dd id="TemperatureModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="TemperatureModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="TemperatureModel.get_dataset" class="function">get_dataset</dd>
                <dd id="TemperatureModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="TemperatureModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.time_model.TimeModel</dt>
                                <dd id="TemperatureModel.x_units" class="variable">x_units</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="TemperatureModel.default_fit" class="variable">default_fit</dd>
                <dd id="TemperatureModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="TemperatureModel.x_offset" class="variable">x_offset</dd>
                <dd id="TemperatureModel.subspace" class="variable">subspace</dd>
                <dd id="TemperatureModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="TemperatureModel.broadcast" class="variable">broadcast</dd>
                <dd id="TemperatureModel.persist" class="variable">persist</dd>
                <dd id="TemperatureModel.save" class="variable">save</dd>
                <dd id="TemperatureModel.mirror" class="variable">mirror</dd>
                <dd id="TemperatureModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="TemperatureModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="TemperatureModel.fit_map" class="variable">fit_map</dd>
                <dd id="TemperatureModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="TemperatureModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="TemperatureModel.guess" class="variable">guess</dd>
                <dd id="TemperatureModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="TemperatureModel.man_scale" class="variable">man_scale</dd>
                <dd id="TemperatureModel.validators" class="variable">validators</dd>
                <dd id="TemperatureModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="TemperatureModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="TemperatureModel.bin_start" class="variable">bin_start</dd>
                <dd id="TemperatureModel.bin_end" class="variable">bin_end</dd>
                <dd id="TemperatureModel.x_scale" class="variable">x_scale</dd>
                <dd id="TemperatureModel.y_units" class="variable">y_units</dd>
                <dd id="TemperatureModel.counts" class="variable">counts</dd>
                <dd id="TemperatureModel.fits_set" class="variable">fits_set</dd>
                <dd id="TemperatureModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="TemperatureModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="TemperatureModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="TemperatureModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="TemperatureModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="TemperatureModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="TemperatureModel.type" class="variable">type</dd>
                <dd id="TemperatureModel.report" class="function">report</dd>
                <dd id="TemperatureModel.build" class="function">build</dd>
                <dd id="TemperatureModel.reset_state" class="function">reset_state</dd>
                <dd id="TemperatureModel.bind" class="function">bind</dd>
                <dd id="TemperatureModel.attach" class="function">attach</dd>
                <dd id="TemperatureModel.load" class="function">load</dd>
                <dd id="TemperatureModel.init_datasets" class="function">init_datasets</dd>
                <dd id="TemperatureModel.init_plots" class="function">init_plots</dd>
                <dd id="TemperatureModel.write_datasets" class="function">write_datasets</dd>
                <dd id="TemperatureModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="TemperatureModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="TemperatureModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="TemperatureModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="TemperatureModel.mutate_points" class="function">mutate_points</dd>
                <dd id="TemperatureModel.mutate_means" class="function">mutate_means</dd>
                <dd id="TemperatureModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="TemperatureModel.get_means" class="function">get_means</dd>
                <dd id="TemperatureModel.get_means_key" class="function">get_means_key</dd>
                <dd id="TemperatureModel.errors" class="variable">errors</dd>
                <dd id="TemperatureModel.xs" class="variable">xs</dd>
                <dd id="TemperatureModel.get_xs" class="function">get_xs</dd>
                <dd id="TemperatureModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="TemperatureModel.load_counts" class="function">load_counts</dd>
                <dd id="TemperatureModel.load_xs" class="function">load_xs</dd>
                <dd id="TemperatureModel.load_errors" class="function">load_errors</dd>
                <dd id="TemperatureModel.load_means" class="function">load_means</dd>
                <dd id="TemperatureModel.calc_hist" class="function">calc_hist</dd>
                <dd id="TemperatureModel.calc_mean" class="function">calc_mean</dd>
                <dd id="TemperatureModel.calc_error" class="function">calc_error</dd>
                <dd id="TemperatureModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="TemperatureModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="TemperatureModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="TemperatureModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="TemperatureModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="TemperatureModel.get_fit" class="function">get_fit</dd>
                <dd id="TemperatureModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="TemperatureModel.get_guess" class="function">get_guess</dd>
                <dd id="TemperatureModel.fit_data" class="function">fit_data</dd>
                <dd id="TemperatureModel.validate_fit" class="function">validate_fit</dd>
                <dd id="TemperatureModel.save_fit" class="function">save_fit</dd>
                <dd id="TemperatureModel.set_fits" class="function">set_fits</dd>
                <dd id="TemperatureModel.report_fit" class="function">report_fit</dd>
                <dd id="TemperatureModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="TemperatureModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="TemperatureModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="TemperatureModel.valid" class="variable">valid</dd>
                <dd id="TemperatureModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="TemperatureModel.map_namespace" class="function">map_namespace</dd>
                <dd id="TemperatureModel.key" class="function">key</dd>
                <dd id="TemperatureModel.default_key" class="function">default_key</dd>
                <dd id="TemperatureModel.init" class="function">init</dd>
                <dd id="TemperatureModel.write" class="function">write</dd>
                <dd id="TemperatureModel.set" class="function">set</dd>
                <dd id="TemperatureModel.get_default" class="function">get_default</dd>
                <dd id="TemperatureModel.get" class="function">get</dd>
                <dd id="TemperatureModel.mutate" class="function">mutate</dd>
                <dd id="TemperatureModel.exists" class="function">exists</dd>
                <dd id="TemperatureModel.create" class="function">create</dd>
                <dd id="TemperatureModel.setattr" class="function">setattr</dd>
                <dd id="TemperatureModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="TemperatureModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="TemperatureModel.validate_between" class="function">validate_between</dd>
                <dd id="TemperatureModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="TemperatureModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DipoleTemperatureModel">
                            <input id="DipoleTemperatureModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DipoleTemperatureModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="DipoleTemperatureModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DipoleTemperatureModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DipoleTemperatureModel-201"><a href="#DipoleTemperatureModel-201"><span class="linenos">201</span></a><span class="k">class</span> <span class="nc">DipoleTemperatureModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="DipoleTemperatureModel-202"><a href="#DipoleTemperatureModel-202"><span class="linenos">202</span></a>    
</span><span id="DipoleTemperatureModel-203"><a href="#DipoleTemperatureModel-203"><span class="linenos">203</span></a>    
</span><span id="DipoleTemperatureModel-204"><a href="#DipoleTemperatureModel-204"><span class="linenos">204</span></a>    <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;TimeOfFlight&#39;</span>
</span><span id="DipoleTemperatureModel-205"><a href="#DipoleTemperatureModel-205"><span class="linenos">205</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;drop time&#39;</span>
</span><span id="DipoleTemperatureModel-206"><a href="#DipoleTemperatureModel-206"><span class="linenos">206</span></a>    <span class="n">x_unit</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="DipoleTemperatureModel-207"><a href="#DipoleTemperatureModel-207"><span class="linenos">207</span></a>    
</span><span id="DipoleTemperatureModel-208"><a href="#DipoleTemperatureModel-208"><span class="linenos">208</span></a>    <span class="n">y_label</span> <span class="o">=</span> <span class="s1">&#39;variance&#39;</span>
</span><span id="DipoleTemperatureModel-209"><a href="#DipoleTemperatureModel-209"><span class="linenos">209</span></a>    <span class="n">y_unit</span> <span class="o">=</span> <span class="s1">&#39;pixel squared&#39;</span>
</span><span id="DipoleTemperatureModel-210"><a href="#DipoleTemperatureModel-210"><span class="linenos">210</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="DipoleTemperatureModel-211"><a href="#DipoleTemperatureModel-211"><span class="linenos">211</span></a>    
</span><span id="DipoleTemperatureModel-212"><a href="#DipoleTemperatureModel-212"><span class="linenos">212</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Cloud Size over time&#39;</span>
</span><span id="DipoleTemperatureModel-213"><a href="#DipoleTemperatureModel-213"><span class="linenos">213</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DipoleTemperatureModel-214"><a href="#DipoleTemperatureModel-214"><span class="linenos">214</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Power</span>
</span><span id="DipoleTemperatureModel-215"><a href="#DipoleTemperatureModel-215"><span class="linenos">215</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="DipoleTemperatureModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;TimeOfFlight&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.namespace"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;drop time&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.x_label"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.x_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">x_unit</span>        =
<span class="default_value">&#39;ms&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.x_unit"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;variance&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.y_label"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.y_unit" class="classattr">
                                <div class="attr variable">
            <span class="name">y_unit</span>        =
<span class="default_value">&#39;pixel squared&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.y_unit"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.y_scale"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Cloud Size over time&#39;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.plot_title"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Power&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.fit_function"></a>
    
    

                            </div>
                            <div id="DipoleTemperatureModel.hold" class="classattr">
                                <div class="attr variable">
            <span class="name">hold</span>        =
<span class="default_value">{&#39;alpha&#39;: 2}</span>

        
    </div>
    <a class="headerlink" href="#DipoleTemperatureModel.hold"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="DipoleTemperatureModel.__init__" class="function">HasEnvironment</dd>
                <dd id="DipoleTemperatureModel.children" class="variable">children</dd>
                <dd id="DipoleTemperatureModel.register_child" class="function">register_child</dd>
                <dd id="DipoleTemperatureModel.call_child_method" class="function">call_child_method</dd>
                <dd id="DipoleTemperatureModel.get_argument" class="function">get_argument</dd>
                <dd id="DipoleTemperatureModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="DipoleTemperatureModel.get_device_db" class="function">get_device_db</dd>
                <dd id="DipoleTemperatureModel.get_device" class="function">get_device</dd>
                <dd id="DipoleTemperatureModel.setattr_device" class="function">setattr_device</dd>
                <dd id="DipoleTemperatureModel.set_dataset" class="function">set_dataset</dd>
                <dd id="DipoleTemperatureModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="DipoleTemperatureModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="DipoleTemperatureModel.get_dataset" class="function">get_dataset</dd>
                <dd id="DipoleTemperatureModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="DipoleTemperatureModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.time_model.TimeModel</dt>
                                <dd id="DipoleTemperatureModel.x_units" class="variable">x_units</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="DipoleTemperatureModel.default_fit" class="variable">default_fit</dd>
                <dd id="DipoleTemperatureModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="DipoleTemperatureModel.x_offset" class="variable">x_offset</dd>
                <dd id="DipoleTemperatureModel.subspace" class="variable">subspace</dd>
                <dd id="DipoleTemperatureModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="DipoleTemperatureModel.broadcast" class="variable">broadcast</dd>
                <dd id="DipoleTemperatureModel.persist" class="variable">persist</dd>
                <dd id="DipoleTemperatureModel.save" class="variable">save</dd>
                <dd id="DipoleTemperatureModel.mirror" class="variable">mirror</dd>
                <dd id="DipoleTemperatureModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="DipoleTemperatureModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="DipoleTemperatureModel.fit_map" class="variable">fit_map</dd>
                <dd id="DipoleTemperatureModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="DipoleTemperatureModel.main_fit" class="variable">main_fit</dd>
                <dd id="DipoleTemperatureModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="DipoleTemperatureModel.guess" class="variable">guess</dd>
                <dd id="DipoleTemperatureModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="DipoleTemperatureModel.man_scale" class="variable">man_scale</dd>
                <dd id="DipoleTemperatureModel.validators" class="variable">validators</dd>
                <dd id="DipoleTemperatureModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="DipoleTemperatureModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="DipoleTemperatureModel.bin_start" class="variable">bin_start</dd>
                <dd id="DipoleTemperatureModel.bin_end" class="variable">bin_end</dd>
                <dd id="DipoleTemperatureModel.x_scale" class="variable">x_scale</dd>
                <dd id="DipoleTemperatureModel.y_units" class="variable">y_units</dd>
                <dd id="DipoleTemperatureModel.counts" class="variable">counts</dd>
                <dd id="DipoleTemperatureModel.fits_set" class="variable">fits_set</dd>
                <dd id="DipoleTemperatureModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="DipoleTemperatureModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="DipoleTemperatureModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="DipoleTemperatureModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="DipoleTemperatureModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="DipoleTemperatureModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="DipoleTemperatureModel.type" class="variable">type</dd>
                <dd id="DipoleTemperatureModel.report" class="function">report</dd>
                <dd id="DipoleTemperatureModel.build" class="function">build</dd>
                <dd id="DipoleTemperatureModel.reset_state" class="function">reset_state</dd>
                <dd id="DipoleTemperatureModel.bind" class="function">bind</dd>
                <dd id="DipoleTemperatureModel.attach" class="function">attach</dd>
                <dd id="DipoleTemperatureModel.load" class="function">load</dd>
                <dd id="DipoleTemperatureModel.init_datasets" class="function">init_datasets</dd>
                <dd id="DipoleTemperatureModel.init_plots" class="function">init_plots</dd>
                <dd id="DipoleTemperatureModel.write_datasets" class="function">write_datasets</dd>
                <dd id="DipoleTemperatureModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="DipoleTemperatureModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="DipoleTemperatureModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="DipoleTemperatureModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="DipoleTemperatureModel.mutate_points" class="function">mutate_points</dd>
                <dd id="DipoleTemperatureModel.mutate_means" class="function">mutate_means</dd>
                <dd id="DipoleTemperatureModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="DipoleTemperatureModel.get_means" class="function">get_means</dd>
                <dd id="DipoleTemperatureModel.get_means_key" class="function">get_means_key</dd>
                <dd id="DipoleTemperatureModel.errors" class="variable">errors</dd>
                <dd id="DipoleTemperatureModel.xs" class="variable">xs</dd>
                <dd id="DipoleTemperatureModel.get_xs" class="function">get_xs</dd>
                <dd id="DipoleTemperatureModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="DipoleTemperatureModel.load_counts" class="function">load_counts</dd>
                <dd id="DipoleTemperatureModel.load_xs" class="function">load_xs</dd>
                <dd id="DipoleTemperatureModel.load_errors" class="function">load_errors</dd>
                <dd id="DipoleTemperatureModel.load_means" class="function">load_means</dd>
                <dd id="DipoleTemperatureModel.calc_hist" class="function">calc_hist</dd>
                <dd id="DipoleTemperatureModel.calc_mean" class="function">calc_mean</dd>
                <dd id="DipoleTemperatureModel.calc_error" class="function">calc_error</dd>
                <dd id="DipoleTemperatureModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="DipoleTemperatureModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="DipoleTemperatureModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="DipoleTemperatureModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="DipoleTemperatureModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="DipoleTemperatureModel.get_fit" class="function">get_fit</dd>
                <dd id="DipoleTemperatureModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="DipoleTemperatureModel.get_guess" class="function">get_guess</dd>
                <dd id="DipoleTemperatureModel.fit_data" class="function">fit_data</dd>
                <dd id="DipoleTemperatureModel.before_validate" class="function">before_validate</dd>
                <dd id="DipoleTemperatureModel.validate_fit" class="function">validate_fit</dd>
                <dd id="DipoleTemperatureModel.save_fit" class="function">save_fit</dd>
                <dd id="DipoleTemperatureModel.set_fits" class="function">set_fits</dd>
                <dd id="DipoleTemperatureModel.report_fit" class="function">report_fit</dd>
                <dd id="DipoleTemperatureModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="DipoleTemperatureModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="DipoleTemperatureModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="DipoleTemperatureModel.valid" class="variable">valid</dd>
                <dd id="DipoleTemperatureModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="DipoleTemperatureModel.map_namespace" class="function">map_namespace</dd>
                <dd id="DipoleTemperatureModel.key" class="function">key</dd>
                <dd id="DipoleTemperatureModel.default_key" class="function">default_key</dd>
                <dd id="DipoleTemperatureModel.init" class="function">init</dd>
                <dd id="DipoleTemperatureModel.write" class="function">write</dd>
                <dd id="DipoleTemperatureModel.set" class="function">set</dd>
                <dd id="DipoleTemperatureModel.get_default" class="function">get_default</dd>
                <dd id="DipoleTemperatureModel.get" class="function">get</dd>
                <dd id="DipoleTemperatureModel.mutate" class="function">mutate</dd>
                <dd id="DipoleTemperatureModel.exists" class="function">exists</dd>
                <dd id="DipoleTemperatureModel.create" class="function">create</dd>
                <dd id="DipoleTemperatureModel.setattr" class="function">setattr</dd>
                <dd id="DipoleTemperatureModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="DipoleTemperatureModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="DipoleTemperatureModel.validate_between" class="function">validate_between</dd>
                <dd id="DipoleTemperatureModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="DipoleTemperatureModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RabiFlopModel">
                            <input id="RabiFlopModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RabiFlopModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="RabiFlopModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiFlopModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiFlopModel-217"><a href="#RabiFlopModel-217"><span class="linenos">217</span></a><span class="k">class</span> <span class="nc">RabiFlopModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="RabiFlopModel-218"><a href="#RabiFlopModel-218"><span class="linenos">218</span></a>    
</span><span id="RabiFlopModel-219"><a href="#RabiFlopModel-219"><span class="linenos">219</span></a>    <span class="c1"># global parameters</span>
</span><span id="RabiFlopModel-220"><a href="#RabiFlopModel-220"><span class="linenos">220</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RabiFlopExp&quot;</span>
</span><span id="RabiFlopModel-221"><a href="#RabiFlopModel-221"><span class="linenos">221</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition Prob.&#39;</span>
</span><span id="RabiFlopModel-222"><a href="#RabiFlopModel-222"><span class="linenos">222</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="RabiFlopModel-223"><a href="#RabiFlopModel-223"><span class="linenos">223</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s1">&#39;Pulse Time&#39;</span>
</span><span id="RabiFlopModel-224"><a href="#RabiFlopModel-224"><span class="linenos">224</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;ms&#39;</span>
</span><span id="RabiFlopModel-225"><a href="#RabiFlopModel-225"><span class="linenos">225</span></a>
</span><span id="RabiFlopModel-226"><a href="#RabiFlopModel-226"><span class="linenos">226</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Rabi Flop&#39;</span>
</span><span id="RabiFlopModel-227"><a href="#RabiFlopModel-227"><span class="linenos">227</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">ExpSine</span>
</span><span id="RabiFlopModel-228"><a href="#RabiFlopModel-228"><span class="linenos">228</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="RabiFlopModel-229"><a href="#RabiFlopModel-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RabiFlopModel-230"><a href="#RabiFlopModel-230"><span class="linenos">230</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="RabiFlopModel-231"><a href="#RabiFlopModel-231"><span class="linenos">231</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="RabiFlopModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;RabiFlopExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.namespace"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Transition Prob.&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.y_label"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Pulse Time&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.x_label"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;ms&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.x_units"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Rabi Flop&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.plot_title"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.ExpSine&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.fit_function"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;f&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.main_fit"></a>
    
    

                            </div>
                            <div id="RabiFlopModel.before_validate" class="classattr">
                                        <input id="RabiFlopModel.before_validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">before_validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RabiFlopModel.before_validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiFlopModel.before_validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiFlopModel.before_validate-229"><a href="#RabiFlopModel.before_validate-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RabiFlopModel.before_validate-230"><a href="#RabiFlopModel.before_validate-230"><span class="linenos">230</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>User callback (runs on host).</p>

<p>Executed after a fit was successfully performed by the scan model, but before
fits are validated or saved to the datasets.  This callback allows additional fit parameters
to be calculated from the parameters of the fit function.  e.g. calculating a pi time from
a transition rate.  Any calculated fit parameters will also be validated by any validation
rules that are defined for name of the calculated parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fit</strong>:  Fit object for the fit that was just performed</li>
</ul>
</div>


                            </div>
                            <div id="RabiFlopModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#RabiFlopModel.y_scale"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="RabiFlopModel.__init__" class="function">HasEnvironment</dd>
                <dd id="RabiFlopModel.children" class="variable">children</dd>
                <dd id="RabiFlopModel.register_child" class="function">register_child</dd>
                <dd id="RabiFlopModel.call_child_method" class="function">call_child_method</dd>
                <dd id="RabiFlopModel.get_argument" class="function">get_argument</dd>
                <dd id="RabiFlopModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="RabiFlopModel.get_device_db" class="function">get_device_db</dd>
                <dd id="RabiFlopModel.get_device" class="function">get_device</dd>
                <dd id="RabiFlopModel.setattr_device" class="function">setattr_device</dd>
                <dd id="RabiFlopModel.set_dataset" class="function">set_dataset</dd>
                <dd id="RabiFlopModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="RabiFlopModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="RabiFlopModel.get_dataset" class="function">get_dataset</dd>
                <dd id="RabiFlopModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="RabiFlopModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="RabiFlopModel.default_fit" class="variable">default_fit</dd>
                <dd id="RabiFlopModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="RabiFlopModel.x_offset" class="variable">x_offset</dd>
                <dd id="RabiFlopModel.subspace" class="variable">subspace</dd>
                <dd id="RabiFlopModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="RabiFlopModel.broadcast" class="variable">broadcast</dd>
                <dd id="RabiFlopModel.persist" class="variable">persist</dd>
                <dd id="RabiFlopModel.save" class="variable">save</dd>
                <dd id="RabiFlopModel.mirror" class="variable">mirror</dd>
                <dd id="RabiFlopModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="RabiFlopModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="RabiFlopModel.fit_map" class="variable">fit_map</dd>
                <dd id="RabiFlopModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="RabiFlopModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="RabiFlopModel.guess" class="variable">guess</dd>
                <dd id="RabiFlopModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="RabiFlopModel.man_scale" class="variable">man_scale</dd>
                <dd id="RabiFlopModel.hold" class="variable">hold</dd>
                <dd id="RabiFlopModel.validators" class="variable">validators</dd>
                <dd id="RabiFlopModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="RabiFlopModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="RabiFlopModel.bin_start" class="variable">bin_start</dd>
                <dd id="RabiFlopModel.bin_end" class="variable">bin_end</dd>
                <dd id="RabiFlopModel.x_scale" class="variable">x_scale</dd>
                <dd id="RabiFlopModel.y_units" class="variable">y_units</dd>
                <dd id="RabiFlopModel.counts" class="variable">counts</dd>
                <dd id="RabiFlopModel.fits_set" class="variable">fits_set</dd>
                <dd id="RabiFlopModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="RabiFlopModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="RabiFlopModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="RabiFlopModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="RabiFlopModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="RabiFlopModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="RabiFlopModel.type" class="variable">type</dd>
                <dd id="RabiFlopModel.report" class="function">report</dd>
                <dd id="RabiFlopModel.build" class="function">build</dd>
                <dd id="RabiFlopModel.reset_state" class="function">reset_state</dd>
                <dd id="RabiFlopModel.bind" class="function">bind</dd>
                <dd id="RabiFlopModel.attach" class="function">attach</dd>
                <dd id="RabiFlopModel.load" class="function">load</dd>
                <dd id="RabiFlopModel.init_datasets" class="function">init_datasets</dd>
                <dd id="RabiFlopModel.init_plots" class="function">init_plots</dd>
                <dd id="RabiFlopModel.write_datasets" class="function">write_datasets</dd>
                <dd id="RabiFlopModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="RabiFlopModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="RabiFlopModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="RabiFlopModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="RabiFlopModel.mutate_points" class="function">mutate_points</dd>
                <dd id="RabiFlopModel.mutate_means" class="function">mutate_means</dd>
                <dd id="RabiFlopModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="RabiFlopModel.get_means" class="function">get_means</dd>
                <dd id="RabiFlopModel.get_means_key" class="function">get_means_key</dd>
                <dd id="RabiFlopModel.errors" class="variable">errors</dd>
                <dd id="RabiFlopModel.xs" class="variable">xs</dd>
                <dd id="RabiFlopModel.get_xs" class="function">get_xs</dd>
                <dd id="RabiFlopModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="RabiFlopModel.load_counts" class="function">load_counts</dd>
                <dd id="RabiFlopModel.load_xs" class="function">load_xs</dd>
                <dd id="RabiFlopModel.load_errors" class="function">load_errors</dd>
                <dd id="RabiFlopModel.load_means" class="function">load_means</dd>
                <dd id="RabiFlopModel.calc_hist" class="function">calc_hist</dd>
                <dd id="RabiFlopModel.calc_mean" class="function">calc_mean</dd>
                <dd id="RabiFlopModel.calc_error" class="function">calc_error</dd>
                <dd id="RabiFlopModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="RabiFlopModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="RabiFlopModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="RabiFlopModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="RabiFlopModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="RabiFlopModel.get_fit" class="function">get_fit</dd>
                <dd id="RabiFlopModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="RabiFlopModel.get_guess" class="function">get_guess</dd>
                <dd id="RabiFlopModel.fit_data" class="function">fit_data</dd>
                <dd id="RabiFlopModel.validate_fit" class="function">validate_fit</dd>
                <dd id="RabiFlopModel.save_fit" class="function">save_fit</dd>
                <dd id="RabiFlopModel.set_fits" class="function">set_fits</dd>
                <dd id="RabiFlopModel.report_fit" class="function">report_fit</dd>
                <dd id="RabiFlopModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="RabiFlopModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="RabiFlopModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="RabiFlopModel.valid" class="variable">valid</dd>
                <dd id="RabiFlopModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="RabiFlopModel.map_namespace" class="function">map_namespace</dd>
                <dd id="RabiFlopModel.key" class="function">key</dd>
                <dd id="RabiFlopModel.default_key" class="function">default_key</dd>
                <dd id="RabiFlopModel.init" class="function">init</dd>
                <dd id="RabiFlopModel.write" class="function">write</dd>
                <dd id="RabiFlopModel.set" class="function">set</dd>
                <dd id="RabiFlopModel.get_default" class="function">get_default</dd>
                <dd id="RabiFlopModel.get" class="function">get</dd>
                <dd id="RabiFlopModel.mutate" class="function">mutate</dd>
                <dd id="RabiFlopModel.exists" class="function">exists</dd>
                <dd id="RabiFlopModel.create" class="function">create</dd>
                <dd id="RabiFlopModel.setattr" class="function">setattr</dd>
                <dd id="RabiFlopModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="RabiFlopModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="RabiFlopModel.validate_between" class="function">validate_between</dd>
                <dd id="RabiFlopModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="RabiFlopModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RabiModel">
                            <input id="RabiModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RabiModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="RabiModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel-235"><a href="#RabiModel-235"><span class="linenos">235</span></a><span class="k">class</span> <span class="nc">RabiModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="RabiModel-236"><a href="#RabiModel-236"><span class="linenos">236</span></a>
</span><span id="RabiModel-237"><a href="#RabiModel-237"><span class="linenos">237</span></a>    <span class="c1"># global parameters</span>
</span><span id="RabiModel-238"><a href="#RabiModel-238"><span class="linenos">238</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RabiFlopExp&quot;</span>
</span><span id="RabiModel-239"><a href="#RabiModel-239"><span class="linenos">239</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition Prob.&#39;</span>
</span><span id="RabiModel-240"><a href="#RabiModel-240"><span class="linenos">240</span></a>    <span class="n">enable_histograms</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="RabiModel-241"><a href="#RabiModel-241"><span class="linenos">241</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel-242"><a href="#RabiModel-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel-243"><a href="#RabiModel-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel-244"><a href="#RabiModel-244"><span class="linenos">244</span></a>            <span class="k">return</span> <span class="s1">&#39;Pulse Time&#39;</span>
</span><span id="RabiModel-245"><a href="#RabiModel-245"><span class="linenos">245</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel-246"><a href="#RabiModel-246"><span class="linenos">246</span></a>            <span class="k">return</span> <span class="s1">&#39;Detuning&#39;</span>
</span><span id="RabiModel-247"><a href="#RabiModel-247"><span class="linenos">247</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel-248"><a href="#RabiModel-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel-249"><a href="#RabiModel-249"><span class="linenos">249</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel-250"><a href="#RabiModel-250"><span class="linenos">250</span></a>            <span class="k">return</span> <span class="s1">&#39;us&#39;</span>
</span><span id="RabiModel-251"><a href="#RabiModel-251"><span class="linenos">251</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel-252"><a href="#RabiModel-252"><span class="linenos">252</span></a>            <span class="k">return</span> <span class="s1">&#39;MHz&#39;</span>
</span><span id="RabiModel-253"><a href="#RabiModel-253"><span class="linenos">253</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel-254"><a href="#RabiModel-254"><span class="linenos">254</span></a>    <span class="k">def</span> <span class="nf">plot_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel-255"><a href="#RabiModel-255"><span class="linenos">255</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel-256"><a href="#RabiModel-256"><span class="linenos">256</span></a>            <span class="k">return</span> <span class="s1">&#39;Rabi Flop&#39;</span>
</span><span id="RabiModel-257"><a href="#RabiModel-257"><span class="linenos">257</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel-258"><a href="#RabiModel-258"><span class="linenos">258</span></a>            <span class="k">return</span> <span class="s1">&#39;Frequency Scan&#39;</span>
</span><span id="RabiModel-259"><a href="#RabiModel-259"><span class="linenos">259</span></a>    
</span><span id="RabiModel-260"><a href="#RabiModel-260"><span class="linenos">260</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel-261"><a href="#RabiModel-261"><span class="linenos">261</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel-262"><a href="#RabiModel-262"><span class="linenos">262</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel-263"><a href="#RabiModel-263"><span class="linenos">263</span></a>            <span class="k">return</span> <span class="n">ExpSine</span>
</span><span id="RabiModel-264"><a href="#RabiModel-264"><span class="linenos">264</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel-265"><a href="#RabiModel-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span><span id="RabiModel-266"><a href="#RabiModel-266"><span class="linenos">266</span></a>
</span><span id="RabiModel-267"><a href="#RabiModel-267"><span class="linenos">267</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="RabiModel-268"><a href="#RabiModel-268"><span class="linenos">268</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RabiModel-269"><a href="#RabiModel-269"><span class="linenos">269</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel-270"><a href="#RabiModel-270"><span class="linenos">270</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="RabiModel-271"><a href="#RabiModel-271"><span class="linenos">271</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel-272"><a href="#RabiModel-272"><span class="linenos">272</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;FWHM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;Gamma&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="RabiModel-273"><a href="#RabiModel-273"><span class="linenos">273</span></a>
</span><span id="RabiModel-274"><a href="#RabiModel-274"><span class="linenos">274</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="RabiModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;RabiFlopExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiModel.namespace"></a>
    
    

                            </div>
                            <div id="RabiModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Transition Prob.&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiModel.y_label"></a>
    
    

                            </div>
                            <div id="RabiModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RabiModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="RabiModel.x_label" class="classattr">
                                        <input id="RabiModel.x_label-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">x_label</span>

                <label class="view-source-button" for="RabiModel.x_label-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel.x_label"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel.x_label-241"><a href="#RabiModel.x_label-241"><span class="linenos">241</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel.x_label-242"><a href="#RabiModel.x_label-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="nf">x_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel.x_label-243"><a href="#RabiModel.x_label-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel.x_label-244"><a href="#RabiModel.x_label-244"><span class="linenos">244</span></a>            <span class="k">return</span> <span class="s1">&#39;Pulse Time&#39;</span>
</span><span id="RabiModel.x_label-245"><a href="#RabiModel.x_label-245"><span class="linenos">245</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel.x_label-246"><a href="#RabiModel.x_label-246"><span class="linenos">246</span></a>            <span class="k">return</span> <span class="s1">&#39;Detuning&#39;</span>
</span></pre></div>


            <div class="docstring"><p>str(object='') -> str
str(bytes_or_buffer[, encoding[, errors]]) -> str</p>

<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p>
</div>


                            </div>
                            <div id="RabiModel.x_units" class="classattr">
                                        <input id="RabiModel.x_units-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">x_units</span>

                <label class="view-source-button" for="RabiModel.x_units-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel.x_units"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel.x_units-247"><a href="#RabiModel.x_units-247"><span class="linenos">247</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel.x_units-248"><a href="#RabiModel.x_units-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">x_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel.x_units-249"><a href="#RabiModel.x_units-249"><span class="linenos">249</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel.x_units-250"><a href="#RabiModel.x_units-250"><span class="linenos">250</span></a>            <span class="k">return</span> <span class="s1">&#39;us&#39;</span>
</span><span id="RabiModel.x_units-251"><a href="#RabiModel.x_units-251"><span class="linenos">251</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel.x_units-252"><a href="#RabiModel.x_units-252"><span class="linenos">252</span></a>            <span class="k">return</span> <span class="s1">&#39;MHz&#39;</span>
</span></pre></div>


            <div class="docstring"><p>str(object='') -> str
str(bytes_or_buffer[, encoding[, errors]]) -> str</p>

<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p>
</div>


                            </div>
                            <div id="RabiModel.plot_title" class="classattr">
                                        <input id="RabiModel.plot_title-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">plot_title</span>

                <label class="view-source-button" for="RabiModel.plot_title-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel.plot_title"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel.plot_title-253"><a href="#RabiModel.plot_title-253"><span class="linenos">253</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel.plot_title-254"><a href="#RabiModel.plot_title-254"><span class="linenos">254</span></a>    <span class="k">def</span> <span class="nf">plot_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel.plot_title-255"><a href="#RabiModel.plot_title-255"><span class="linenos">255</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel.plot_title-256"><a href="#RabiModel.plot_title-256"><span class="linenos">256</span></a>            <span class="k">return</span> <span class="s1">&#39;Rabi Flop&#39;</span>
</span><span id="RabiModel.plot_title-257"><a href="#RabiModel.plot_title-257"><span class="linenos">257</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel.plot_title-258"><a href="#RabiModel.plot_title-258"><span class="linenos">258</span></a>            <span class="k">return</span> <span class="s1">&#39;Frequency Scan&#39;</span>
</span></pre></div>


            <div class="docstring"><p>str(object='') -> str
str(bytes_or_buffer[, encoding[, errors]]) -> str</p>

<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to 'strict'.</p>
</div>


                            </div>
                            <div id="RabiModel.fit_function" class="classattr">
                                        <input id="RabiModel.fit_function-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">fit_function</span>

                <label class="view-source-button" for="RabiModel.fit_function-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel.fit_function"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel.fit_function-260"><a href="#RabiModel.fit_function-260"><span class="linenos">260</span></a>    <span class="nd">@property</span>
</span><span id="RabiModel.fit_function-261"><a href="#RabiModel.fit_function-261"><span class="linenos">261</span></a>    <span class="k">def</span> <span class="nf">fit_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RabiModel.fit_function-262"><a href="#RabiModel.fit_function-262"><span class="linenos">262</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel.fit_function-263"><a href="#RabiModel.fit_function-263"><span class="linenos">263</span></a>            <span class="k">return</span> <span class="n">ExpSine</span>
</span><span id="RabiModel.fit_function-264"><a href="#RabiModel.fit_function-264"><span class="linenos">264</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel.fit_function-265"><a href="#RabiModel.fit_function-265"><span class="linenos">265</span></a>            <span class="k">return</span> <span class="n">Lor</span>
</span></pre></div>


    

                            </div>
                            <div id="RabiModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;f&#39;</span>

        
    </div>
    <a class="headerlink" href="#RabiModel.main_fit"></a>
    
    

                            </div>
                            <div id="RabiModel.before_validate" class="classattr">
                                        <input id="RabiModel.before_validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">before_validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RabiModel.before_validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RabiModel.before_validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RabiModel.before_validate-268"><a href="#RabiModel.before_validate-268"><span class="linenos">268</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RabiModel.before_validate-269"><a href="#RabiModel.before_validate-269"><span class="linenos">269</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span>
</span><span id="RabiModel.before_validate-270"><a href="#RabiModel.before_validate-270"><span class="linenos">270</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="RabiModel.before_validate-271"><a href="#RabiModel.before_validate-271"><span class="linenos">271</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RabiModel.before_validate-272"><a href="#RabiModel.before_validate-272"><span class="linenos">272</span></a>            <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;FWHM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;Gamma&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>User callback (runs on host).</p>

<p>Executed after a fit was successfully performed by the scan model, but before
fits are validated or saved to the datasets.  This callback allows additional fit parameters
to be calculated from the parameters of the fit function.  e.g. calculating a pi time from
a transition rate.  Any calculated fit parameters will also be validated by any validation
rules that are defined for name of the calculated parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fit</strong>:  Fit object for the fit that was just performed</li>
</ul>
</div>


                            </div>
                            <div id="RabiModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#RabiModel.y_scale"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="RabiModel.__init__" class="function">HasEnvironment</dd>
                <dd id="RabiModel.children" class="variable">children</dd>
                <dd id="RabiModel.register_child" class="function">register_child</dd>
                <dd id="RabiModel.call_child_method" class="function">call_child_method</dd>
                <dd id="RabiModel.get_argument" class="function">get_argument</dd>
                <dd id="RabiModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="RabiModel.get_device_db" class="function">get_device_db</dd>
                <dd id="RabiModel.get_device" class="function">get_device</dd>
                <dd id="RabiModel.setattr_device" class="function">setattr_device</dd>
                <dd id="RabiModel.set_dataset" class="function">set_dataset</dd>
                <dd id="RabiModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="RabiModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="RabiModel.get_dataset" class="function">get_dataset</dd>
                <dd id="RabiModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="RabiModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="RabiModel.default_fit" class="variable">default_fit</dd>
                <dd id="RabiModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="RabiModel.x_offset" class="variable">x_offset</dd>
                <dd id="RabiModel.subspace" class="variable">subspace</dd>
                <dd id="RabiModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="RabiModel.broadcast" class="variable">broadcast</dd>
                <dd id="RabiModel.persist" class="variable">persist</dd>
                <dd id="RabiModel.save" class="variable">save</dd>
                <dd id="RabiModel.mirror" class="variable">mirror</dd>
                <dd id="RabiModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="RabiModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="RabiModel.fit_map" class="variable">fit_map</dd>
                <dd id="RabiModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="RabiModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="RabiModel.guess" class="variable">guess</dd>
                <dd id="RabiModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="RabiModel.man_scale" class="variable">man_scale</dd>
                <dd id="RabiModel.hold" class="variable">hold</dd>
                <dd id="RabiModel.validators" class="variable">validators</dd>
                <dd id="RabiModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="RabiModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="RabiModel.bin_start" class="variable">bin_start</dd>
                <dd id="RabiModel.bin_end" class="variable">bin_end</dd>
                <dd id="RabiModel.x_scale" class="variable">x_scale</dd>
                <dd id="RabiModel.y_units" class="variable">y_units</dd>
                <dd id="RabiModel.counts" class="variable">counts</dd>
                <dd id="RabiModel.fits_set" class="variable">fits_set</dd>
                <dd id="RabiModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="RabiModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="RabiModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="RabiModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="RabiModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="RabiModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="RabiModel.type" class="variable">type</dd>
                <dd id="RabiModel.report" class="function">report</dd>
                <dd id="RabiModel.build" class="function">build</dd>
                <dd id="RabiModel.reset_state" class="function">reset_state</dd>
                <dd id="RabiModel.bind" class="function">bind</dd>
                <dd id="RabiModel.attach" class="function">attach</dd>
                <dd id="RabiModel.load" class="function">load</dd>
                <dd id="RabiModel.init_datasets" class="function">init_datasets</dd>
                <dd id="RabiModel.init_plots" class="function">init_plots</dd>
                <dd id="RabiModel.write_datasets" class="function">write_datasets</dd>
                <dd id="RabiModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="RabiModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="RabiModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="RabiModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="RabiModel.mutate_points" class="function">mutate_points</dd>
                <dd id="RabiModel.mutate_means" class="function">mutate_means</dd>
                <dd id="RabiModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="RabiModel.get_means" class="function">get_means</dd>
                <dd id="RabiModel.get_means_key" class="function">get_means_key</dd>
                <dd id="RabiModel.errors" class="variable">errors</dd>
                <dd id="RabiModel.xs" class="variable">xs</dd>
                <dd id="RabiModel.get_xs" class="function">get_xs</dd>
                <dd id="RabiModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="RabiModel.load_counts" class="function">load_counts</dd>
                <dd id="RabiModel.load_xs" class="function">load_xs</dd>
                <dd id="RabiModel.load_errors" class="function">load_errors</dd>
                <dd id="RabiModel.load_means" class="function">load_means</dd>
                <dd id="RabiModel.calc_hist" class="function">calc_hist</dd>
                <dd id="RabiModel.calc_mean" class="function">calc_mean</dd>
                <dd id="RabiModel.calc_error" class="function">calc_error</dd>
                <dd id="RabiModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="RabiModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="RabiModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="RabiModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="RabiModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="RabiModel.get_fit" class="function">get_fit</dd>
                <dd id="RabiModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="RabiModel.get_guess" class="function">get_guess</dd>
                <dd id="RabiModel.fit_data" class="function">fit_data</dd>
                <dd id="RabiModel.validate_fit" class="function">validate_fit</dd>
                <dd id="RabiModel.save_fit" class="function">save_fit</dd>
                <dd id="RabiModel.set_fits" class="function">set_fits</dd>
                <dd id="RabiModel.report_fit" class="function">report_fit</dd>
                <dd id="RabiModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="RabiModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="RabiModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="RabiModel.valid" class="variable">valid</dd>
                <dd id="RabiModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="RabiModel.map_namespace" class="function">map_namespace</dd>
                <dd id="RabiModel.key" class="function">key</dd>
                <dd id="RabiModel.default_key" class="function">default_key</dd>
                <dd id="RabiModel.init" class="function">init</dd>
                <dd id="RabiModel.write" class="function">write</dd>
                <dd id="RabiModel.set" class="function">set</dd>
                <dd id="RabiModel.get_default" class="function">get_default</dd>
                <dd id="RabiModel.get" class="function">get</dd>
                <dd id="RabiModel.mutate" class="function">mutate</dd>
                <dd id="RabiModel.exists" class="function">exists</dd>
                <dd id="RabiModel.create" class="function">create</dd>
                <dd id="RabiModel.setattr" class="function">setattr</dd>
                <dd id="RabiModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="RabiModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="RabiModel.validate_between" class="function">validate_between</dd>
                <dd id="RabiModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="RabiModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RamseyModel">
                            <input id="RamseyModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RamseyModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="RamseyModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RamseyModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RamseyModel-275"><a href="#RamseyModel-275"><span class="linenos">275</span></a><span class="k">class</span> <span class="nc">RamseyModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="RamseyModel-276"><a href="#RamseyModel-276"><span class="linenos">276</span></a>
</span><span id="RamseyModel-277"><a href="#RamseyModel-277"><span class="linenos">277</span></a>    <span class="c1"># global parameters</span>
</span><span id="RamseyModel-278"><a href="#RamseyModel-278"><span class="linenos">278</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="RamseyModel-279"><a href="#RamseyModel-279"><span class="linenos">279</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyScanExp&quot;</span>
</span><span id="RamseyModel-280"><a href="#RamseyModel-280"><span class="linenos">280</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Excite. Prob.&#39;</span>
</span><span id="RamseyModel-281"><a href="#RamseyModel-281"><span class="linenos">281</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="RamseyModel-282"><a href="#RamseyModel-282"><span class="linenos">282</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Delay Time&quot;</span>
</span><span id="RamseyModel-283"><a href="#RamseyModel-283"><span class="linenos">283</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;us&#39;</span>
</span><span id="RamseyModel-284"><a href="#RamseyModel-284"><span class="linenos">284</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Ramsey Delay Scan&quot;</span>
</span><span id="RamseyModel-285"><a href="#RamseyModel-285"><span class="linenos">285</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">ExpSine</span>
</span><span id="RamseyModel-286"><a href="#RamseyModel-286"><span class="linenos">286</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
</span><span id="RamseyModel-287"><a href="#RamseyModel-287"><span class="linenos">287</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="RamseyModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="RamseyModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;RamseyScanExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.namespace"></a>
    
    

                            </div>
                            <div id="RamseyModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Excite. Prob.&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.y_label"></a>
    
    

                            </div>
                            <div id="RamseyModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.y_scale"></a>
    
    

                            </div>
                            <div id="RamseyModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Delay Time&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.x_label"></a>
    
    

                            </div>
                            <div id="RamseyModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;us&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.x_units"></a>
    
    

                            </div>
                            <div id="RamseyModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Ramsey Delay Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.plot_title"></a>
    
    

                            </div>
                            <div id="RamseyModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.ExpSine&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.fit_function"></a>
    
    

                            </div>
                            <div id="RamseyModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;f&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.main_fit"></a>
    
    

                            </div>
                            <div id="RamseyModel.persist" class="classattr">
                                <div class="attr variable">
            <span class="name">persist</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyModel.persist"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="RamseyModel.__init__" class="function">HasEnvironment</dd>
                <dd id="RamseyModel.children" class="variable">children</dd>
                <dd id="RamseyModel.register_child" class="function">register_child</dd>
                <dd id="RamseyModel.call_child_method" class="function">call_child_method</dd>
                <dd id="RamseyModel.get_argument" class="function">get_argument</dd>
                <dd id="RamseyModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="RamseyModel.get_device_db" class="function">get_device_db</dd>
                <dd id="RamseyModel.get_device" class="function">get_device</dd>
                <dd id="RamseyModel.setattr_device" class="function">setattr_device</dd>
                <dd id="RamseyModel.set_dataset" class="function">set_dataset</dd>
                <dd id="RamseyModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="RamseyModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="RamseyModel.get_dataset" class="function">get_dataset</dd>
                <dd id="RamseyModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="RamseyModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="RamseyModel.default_fit" class="variable">default_fit</dd>
                <dd id="RamseyModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="RamseyModel.x_offset" class="variable">x_offset</dd>
                <dd id="RamseyModel.subspace" class="variable">subspace</dd>
                <dd id="RamseyModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="RamseyModel.broadcast" class="variable">broadcast</dd>
                <dd id="RamseyModel.save" class="variable">save</dd>
                <dd id="RamseyModel.mirror" class="variable">mirror</dd>
                <dd id="RamseyModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="RamseyModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="RamseyModel.fit_map" class="variable">fit_map</dd>
                <dd id="RamseyModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="RamseyModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="RamseyModel.guess" class="variable">guess</dd>
                <dd id="RamseyModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="RamseyModel.man_scale" class="variable">man_scale</dd>
                <dd id="RamseyModel.hold" class="variable">hold</dd>
                <dd id="RamseyModel.validators" class="variable">validators</dd>
                <dd id="RamseyModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="RamseyModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="RamseyModel.bin_start" class="variable">bin_start</dd>
                <dd id="RamseyModel.bin_end" class="variable">bin_end</dd>
                <dd id="RamseyModel.x_scale" class="variable">x_scale</dd>
                <dd id="RamseyModel.y_units" class="variable">y_units</dd>
                <dd id="RamseyModel.counts" class="variable">counts</dd>
                <dd id="RamseyModel.fits_set" class="variable">fits_set</dd>
                <dd id="RamseyModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="RamseyModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="RamseyModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="RamseyModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="RamseyModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="RamseyModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="RamseyModel.type" class="variable">type</dd>
                <dd id="RamseyModel.report" class="function">report</dd>
                <dd id="RamseyModel.build" class="function">build</dd>
                <dd id="RamseyModel.reset_state" class="function">reset_state</dd>
                <dd id="RamseyModel.bind" class="function">bind</dd>
                <dd id="RamseyModel.attach" class="function">attach</dd>
                <dd id="RamseyModel.load" class="function">load</dd>
                <dd id="RamseyModel.init_datasets" class="function">init_datasets</dd>
                <dd id="RamseyModel.init_plots" class="function">init_plots</dd>
                <dd id="RamseyModel.write_datasets" class="function">write_datasets</dd>
                <dd id="RamseyModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="RamseyModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="RamseyModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="RamseyModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="RamseyModel.mutate_points" class="function">mutate_points</dd>
                <dd id="RamseyModel.mutate_means" class="function">mutate_means</dd>
                <dd id="RamseyModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="RamseyModel.get_means" class="function">get_means</dd>
                <dd id="RamseyModel.get_means_key" class="function">get_means_key</dd>
                <dd id="RamseyModel.errors" class="variable">errors</dd>
                <dd id="RamseyModel.xs" class="variable">xs</dd>
                <dd id="RamseyModel.get_xs" class="function">get_xs</dd>
                <dd id="RamseyModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="RamseyModel.load_counts" class="function">load_counts</dd>
                <dd id="RamseyModel.load_xs" class="function">load_xs</dd>
                <dd id="RamseyModel.load_errors" class="function">load_errors</dd>
                <dd id="RamseyModel.load_means" class="function">load_means</dd>
                <dd id="RamseyModel.calc_hist" class="function">calc_hist</dd>
                <dd id="RamseyModel.calc_mean" class="function">calc_mean</dd>
                <dd id="RamseyModel.calc_error" class="function">calc_error</dd>
                <dd id="RamseyModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="RamseyModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="RamseyModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="RamseyModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="RamseyModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="RamseyModel.get_fit" class="function">get_fit</dd>
                <dd id="RamseyModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="RamseyModel.get_guess" class="function">get_guess</dd>
                <dd id="RamseyModel.fit_data" class="function">fit_data</dd>
                <dd id="RamseyModel.before_validate" class="function">before_validate</dd>
                <dd id="RamseyModel.validate_fit" class="function">validate_fit</dd>
                <dd id="RamseyModel.save_fit" class="function">save_fit</dd>
                <dd id="RamseyModel.set_fits" class="function">set_fits</dd>
                <dd id="RamseyModel.report_fit" class="function">report_fit</dd>
                <dd id="RamseyModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="RamseyModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="RamseyModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="RamseyModel.valid" class="variable">valid</dd>
                <dd id="RamseyModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="RamseyModel.map_namespace" class="function">map_namespace</dd>
                <dd id="RamseyModel.key" class="function">key</dd>
                <dd id="RamseyModel.default_key" class="function">default_key</dd>
                <dd id="RamseyModel.init" class="function">init</dd>
                <dd id="RamseyModel.write" class="function">write</dd>
                <dd id="RamseyModel.set" class="function">set</dd>
                <dd id="RamseyModel.get_default" class="function">get_default</dd>
                <dd id="RamseyModel.get" class="function">get</dd>
                <dd id="RamseyModel.mutate" class="function">mutate</dd>
                <dd id="RamseyModel.exists" class="function">exists</dd>
                <dd id="RamseyModel.create" class="function">create</dd>
                <dd id="RamseyModel.setattr" class="function">setattr</dd>
                <dd id="RamseyModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="RamseyModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="RamseyModel.validate_between" class="function">validate_between</dd>
                <dd id="RamseyModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="RamseyModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RamseyPhaseModel">
                            <input id="RamseyPhaseModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RamseyPhaseModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="RamseyPhaseModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RamseyPhaseModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RamseyPhaseModel-290"><a href="#RamseyPhaseModel-290"><span class="linenos">290</span></a><span class="k">class</span> <span class="nc">RamseyPhaseModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="RamseyPhaseModel-291"><a href="#RamseyPhaseModel-291"><span class="linenos">291</span></a>
</span><span id="RamseyPhaseModel-292"><a href="#RamseyPhaseModel-292"><span class="linenos">292</span></a>    <span class="c1"># global parameters</span>
</span><span id="RamseyPhaseModel-293"><a href="#RamseyPhaseModel-293"><span class="linenos">293</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="RamseyPhaseModel-294"><a href="#RamseyPhaseModel-294"><span class="linenos">294</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyPhaseScanExp&quot;</span>
</span><span id="RamseyPhaseModel-295"><a href="#RamseyPhaseModel-295"><span class="linenos">295</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Excite. Prob.&#39;</span>
</span><span id="RamseyPhaseModel-296"><a href="#RamseyPhaseModel-296"><span class="linenos">296</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="RamseyPhaseModel-297"><a href="#RamseyPhaseModel-297"><span class="linenos">297</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Phase&quot;</span>
</span><span id="RamseyPhaseModel-298"><a href="#RamseyPhaseModel-298"><span class="linenos">298</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;Turns&#39;</span>
</span><span id="RamseyPhaseModel-299"><a href="#RamseyPhaseModel-299"><span class="linenos">299</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Ramsey Phase Scan&quot;</span>
</span><span id="RamseyPhaseModel-300"><a href="#RamseyPhaseModel-300"><span class="linenos">300</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Sine</span>
</span><span id="RamseyPhaseModel-301"><a href="#RamseyPhaseModel-301"><span class="linenos">301</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
</span><span id="RamseyPhaseModel-302"><a href="#RamseyPhaseModel-302"><span class="linenos">302</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;f&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
</span><span id="RamseyPhaseModel-303"><a href="#RamseyPhaseModel-303"><span class="linenos">303</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="RamseyPhaseModel-304"><a href="#RamseyPhaseModel-304"><span class="linenos">304</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RamseyPhaseModel-305"><a href="#RamseyPhaseModel-305"><span class="linenos">305</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="RamseyPhaseModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;RamseyPhaseScanExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.namespace"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Excite. Prob.&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.y_label"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.y_scale"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Phase&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.x_label"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;Turns&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.x_units"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Ramsey Phase Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.plot_title"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Sine&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.fit_function"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;A&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.main_fit"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.hold" class="classattr">
                                <div class="attr variable">
            <span class="name">hold</span>        =
<span class="default_value">{&#39;f&#39;: 1}</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.hold"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.persist" class="classattr">
                                <div class="attr variable">
            <span class="name">persist</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyPhaseModel.persist"></a>
    
    

                            </div>
                            <div id="RamseyPhaseModel.before_validate" class="classattr">
                                        <input id="RamseyPhaseModel.before_validate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">before_validate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RamseyPhaseModel.before_validate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RamseyPhaseModel.before_validate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RamseyPhaseModel.before_validate-304"><a href="#RamseyPhaseModel.before_validate-304"><span class="linenos">304</span></a>    <span class="k">def</span> <span class="nf">before_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fit</span><span class="p">):</span>
</span><span id="RamseyPhaseModel.before_validate-305"><a href="#RamseyPhaseModel.before_validate-305"><span class="linenos">305</span></a>        <span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">fitresults</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>User callback (runs on host).</p>

<p>Executed after a fit was successfully performed by the scan model, but before
fits are validated or saved to the datasets.  This callback allows additional fit parameters
to be calculated from the parameters of the fit function.  e.g. calculating a pi time from
a transition rate.  Any calculated fit parameters will also be validated by any validation
rules that are defined for name of the calculated parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>fit</strong>:  Fit object for the fit that was just performed</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="RamseyPhaseModel.__init__" class="function">HasEnvironment</dd>
                <dd id="RamseyPhaseModel.children" class="variable">children</dd>
                <dd id="RamseyPhaseModel.register_child" class="function">register_child</dd>
                <dd id="RamseyPhaseModel.call_child_method" class="function">call_child_method</dd>
                <dd id="RamseyPhaseModel.get_argument" class="function">get_argument</dd>
                <dd id="RamseyPhaseModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="RamseyPhaseModel.get_device_db" class="function">get_device_db</dd>
                <dd id="RamseyPhaseModel.get_device" class="function">get_device</dd>
                <dd id="RamseyPhaseModel.setattr_device" class="function">setattr_device</dd>
                <dd id="RamseyPhaseModel.set_dataset" class="function">set_dataset</dd>
                <dd id="RamseyPhaseModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="RamseyPhaseModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="RamseyPhaseModel.get_dataset" class="function">get_dataset</dd>
                <dd id="RamseyPhaseModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="RamseyPhaseModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="RamseyPhaseModel.default_fit" class="variable">default_fit</dd>
                <dd id="RamseyPhaseModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="RamseyPhaseModel.x_offset" class="variable">x_offset</dd>
                <dd id="RamseyPhaseModel.subspace" class="variable">subspace</dd>
                <dd id="RamseyPhaseModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="RamseyPhaseModel.broadcast" class="variable">broadcast</dd>
                <dd id="RamseyPhaseModel.save" class="variable">save</dd>
                <dd id="RamseyPhaseModel.mirror" class="variable">mirror</dd>
                <dd id="RamseyPhaseModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="RamseyPhaseModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="RamseyPhaseModel.fit_map" class="variable">fit_map</dd>
                <dd id="RamseyPhaseModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="RamseyPhaseModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="RamseyPhaseModel.guess" class="variable">guess</dd>
                <dd id="RamseyPhaseModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="RamseyPhaseModel.man_scale" class="variable">man_scale</dd>
                <dd id="RamseyPhaseModel.validators" class="variable">validators</dd>
                <dd id="RamseyPhaseModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="RamseyPhaseModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="RamseyPhaseModel.bin_start" class="variable">bin_start</dd>
                <dd id="RamseyPhaseModel.bin_end" class="variable">bin_end</dd>
                <dd id="RamseyPhaseModel.x_scale" class="variable">x_scale</dd>
                <dd id="RamseyPhaseModel.y_units" class="variable">y_units</dd>
                <dd id="RamseyPhaseModel.counts" class="variable">counts</dd>
                <dd id="RamseyPhaseModel.fits_set" class="variable">fits_set</dd>
                <dd id="RamseyPhaseModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="RamseyPhaseModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="RamseyPhaseModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="RamseyPhaseModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="RamseyPhaseModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="RamseyPhaseModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="RamseyPhaseModel.type" class="variable">type</dd>
                <dd id="RamseyPhaseModel.report" class="function">report</dd>
                <dd id="RamseyPhaseModel.build" class="function">build</dd>
                <dd id="RamseyPhaseModel.reset_state" class="function">reset_state</dd>
                <dd id="RamseyPhaseModel.bind" class="function">bind</dd>
                <dd id="RamseyPhaseModel.attach" class="function">attach</dd>
                <dd id="RamseyPhaseModel.load" class="function">load</dd>
                <dd id="RamseyPhaseModel.init_datasets" class="function">init_datasets</dd>
                <dd id="RamseyPhaseModel.init_plots" class="function">init_plots</dd>
                <dd id="RamseyPhaseModel.write_datasets" class="function">write_datasets</dd>
                <dd id="RamseyPhaseModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="RamseyPhaseModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="RamseyPhaseModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="RamseyPhaseModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="RamseyPhaseModel.mutate_points" class="function">mutate_points</dd>
                <dd id="RamseyPhaseModel.mutate_means" class="function">mutate_means</dd>
                <dd id="RamseyPhaseModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="RamseyPhaseModel.get_means" class="function">get_means</dd>
                <dd id="RamseyPhaseModel.get_means_key" class="function">get_means_key</dd>
                <dd id="RamseyPhaseModel.errors" class="variable">errors</dd>
                <dd id="RamseyPhaseModel.xs" class="variable">xs</dd>
                <dd id="RamseyPhaseModel.get_xs" class="function">get_xs</dd>
                <dd id="RamseyPhaseModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="RamseyPhaseModel.load_counts" class="function">load_counts</dd>
                <dd id="RamseyPhaseModel.load_xs" class="function">load_xs</dd>
                <dd id="RamseyPhaseModel.load_errors" class="function">load_errors</dd>
                <dd id="RamseyPhaseModel.load_means" class="function">load_means</dd>
                <dd id="RamseyPhaseModel.calc_hist" class="function">calc_hist</dd>
                <dd id="RamseyPhaseModel.calc_mean" class="function">calc_mean</dd>
                <dd id="RamseyPhaseModel.calc_error" class="function">calc_error</dd>
                <dd id="RamseyPhaseModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="RamseyPhaseModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="RamseyPhaseModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="RamseyPhaseModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="RamseyPhaseModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="RamseyPhaseModel.get_fit" class="function">get_fit</dd>
                <dd id="RamseyPhaseModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="RamseyPhaseModel.get_guess" class="function">get_guess</dd>
                <dd id="RamseyPhaseModel.fit_data" class="function">fit_data</dd>
                <dd id="RamseyPhaseModel.validate_fit" class="function">validate_fit</dd>
                <dd id="RamseyPhaseModel.save_fit" class="function">save_fit</dd>
                <dd id="RamseyPhaseModel.set_fits" class="function">set_fits</dd>
                <dd id="RamseyPhaseModel.report_fit" class="function">report_fit</dd>
                <dd id="RamseyPhaseModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="RamseyPhaseModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="RamseyPhaseModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="RamseyPhaseModel.valid" class="variable">valid</dd>
                <dd id="RamseyPhaseModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="RamseyPhaseModel.map_namespace" class="function">map_namespace</dd>
                <dd id="RamseyPhaseModel.key" class="function">key</dd>
                <dd id="RamseyPhaseModel.default_key" class="function">default_key</dd>
                <dd id="RamseyPhaseModel.init" class="function">init</dd>
                <dd id="RamseyPhaseModel.write" class="function">write</dd>
                <dd id="RamseyPhaseModel.set" class="function">set</dd>
                <dd id="RamseyPhaseModel.get_default" class="function">get_default</dd>
                <dd id="RamseyPhaseModel.get" class="function">get</dd>
                <dd id="RamseyPhaseModel.mutate" class="function">mutate</dd>
                <dd id="RamseyPhaseModel.exists" class="function">exists</dd>
                <dd id="RamseyPhaseModel.create" class="function">create</dd>
                <dd id="RamseyPhaseModel.setattr" class="function">setattr</dd>
                <dd id="RamseyPhaseModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="RamseyPhaseModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="RamseyPhaseModel.validate_between" class="function">validate_between</dd>
                <dd id="RamseyPhaseModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="RamseyPhaseModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RamseyDecayModel">
                            <input id="RamseyDecayModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RamseyDecayModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="RamseyDecayModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RamseyDecayModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RamseyDecayModel-307"><a href="#RamseyDecayModel-307"><span class="linenos">307</span></a><span class="k">class</span> <span class="nc">RamseyDecayModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="RamseyDecayModel-308"><a href="#RamseyDecayModel-308"><span class="linenos">308</span></a>
</span><span id="RamseyDecayModel-309"><a href="#RamseyDecayModel-309"><span class="linenos">309</span></a>    <span class="c1"># global parameters</span>
</span><span id="RamseyDecayModel-310"><a href="#RamseyDecayModel-310"><span class="linenos">310</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="RamseyDecayModel-311"><a href="#RamseyDecayModel-311"><span class="linenos">311</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;RamseyDelayExp&quot;</span>
</span><span id="RamseyDecayModel-312"><a href="#RamseyDecayModel-312"><span class="linenos">312</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Contrast&#39;</span>
</span><span id="RamseyDecayModel-313"><a href="#RamseyDecayModel-313"><span class="linenos">313</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="RamseyDecayModel-314"><a href="#RamseyDecayModel-314"><span class="linenos">314</span></a>    <span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Delay Time&quot;</span>
</span><span id="RamseyDecayModel-315"><a href="#RamseyDecayModel-315"><span class="linenos">315</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;us&#39;</span>
</span><span id="RamseyDecayModel-316"><a href="#RamseyDecayModel-316"><span class="linenos">316</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s2">&quot;Constrast Decay&quot;</span>
</span><span id="RamseyDecayModel-317"><a href="#RamseyDecayModel-317"><span class="linenos">317</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Exp</span>
</span><span id="RamseyDecayModel-318"><a href="#RamseyDecayModel-318"><span class="linenos">318</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>
</span><span id="RamseyDecayModel-319"><a href="#RamseyDecayModel-319"><span class="linenos">319</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="RamseyDecayModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;RamseyDelayExp&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.namespace"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Contrast&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.y_label"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.y_scale"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Delay Time&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.x_label"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;us&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.x_units"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Constrast Decay&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.plot_title"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Exp&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.fit_function"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;b&#39;</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.main_fit"></a>
    
    

                            </div>
                            <div id="RamseyDecayModel.persist" class="classattr">
                                <div class="attr variable">
            <span class="name">persist</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#RamseyDecayModel.persist"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="RamseyDecayModel.__init__" class="function">HasEnvironment</dd>
                <dd id="RamseyDecayModel.children" class="variable">children</dd>
                <dd id="RamseyDecayModel.register_child" class="function">register_child</dd>
                <dd id="RamseyDecayModel.call_child_method" class="function">call_child_method</dd>
                <dd id="RamseyDecayModel.get_argument" class="function">get_argument</dd>
                <dd id="RamseyDecayModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="RamseyDecayModel.get_device_db" class="function">get_device_db</dd>
                <dd id="RamseyDecayModel.get_device" class="function">get_device</dd>
                <dd id="RamseyDecayModel.setattr_device" class="function">setattr_device</dd>
                <dd id="RamseyDecayModel.set_dataset" class="function">set_dataset</dd>
                <dd id="RamseyDecayModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="RamseyDecayModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="RamseyDecayModel.get_dataset" class="function">get_dataset</dd>
                <dd id="RamseyDecayModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="RamseyDecayModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="RamseyDecayModel.default_fit" class="variable">default_fit</dd>
                <dd id="RamseyDecayModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="RamseyDecayModel.x_offset" class="variable">x_offset</dd>
                <dd id="RamseyDecayModel.subspace" class="variable">subspace</dd>
                <dd id="RamseyDecayModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="RamseyDecayModel.broadcast" class="variable">broadcast</dd>
                <dd id="RamseyDecayModel.save" class="variable">save</dd>
                <dd id="RamseyDecayModel.mirror" class="variable">mirror</dd>
                <dd id="RamseyDecayModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="RamseyDecayModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="RamseyDecayModel.fit_map" class="variable">fit_map</dd>
                <dd id="RamseyDecayModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="RamseyDecayModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="RamseyDecayModel.guess" class="variable">guess</dd>
                <dd id="RamseyDecayModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="RamseyDecayModel.man_scale" class="variable">man_scale</dd>
                <dd id="RamseyDecayModel.hold" class="variable">hold</dd>
                <dd id="RamseyDecayModel.validators" class="variable">validators</dd>
                <dd id="RamseyDecayModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="RamseyDecayModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="RamseyDecayModel.bin_start" class="variable">bin_start</dd>
                <dd id="RamseyDecayModel.bin_end" class="variable">bin_end</dd>
                <dd id="RamseyDecayModel.x_scale" class="variable">x_scale</dd>
                <dd id="RamseyDecayModel.y_units" class="variable">y_units</dd>
                <dd id="RamseyDecayModel.counts" class="variable">counts</dd>
                <dd id="RamseyDecayModel.fits_set" class="variable">fits_set</dd>
                <dd id="RamseyDecayModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="RamseyDecayModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="RamseyDecayModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="RamseyDecayModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="RamseyDecayModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="RamseyDecayModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="RamseyDecayModel.type" class="variable">type</dd>
                <dd id="RamseyDecayModel.report" class="function">report</dd>
                <dd id="RamseyDecayModel.build" class="function">build</dd>
                <dd id="RamseyDecayModel.reset_state" class="function">reset_state</dd>
                <dd id="RamseyDecayModel.bind" class="function">bind</dd>
                <dd id="RamseyDecayModel.attach" class="function">attach</dd>
                <dd id="RamseyDecayModel.load" class="function">load</dd>
                <dd id="RamseyDecayModel.init_datasets" class="function">init_datasets</dd>
                <dd id="RamseyDecayModel.init_plots" class="function">init_plots</dd>
                <dd id="RamseyDecayModel.write_datasets" class="function">write_datasets</dd>
                <dd id="RamseyDecayModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="RamseyDecayModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="RamseyDecayModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="RamseyDecayModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="RamseyDecayModel.mutate_points" class="function">mutate_points</dd>
                <dd id="RamseyDecayModel.mutate_means" class="function">mutate_means</dd>
                <dd id="RamseyDecayModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="RamseyDecayModel.get_means" class="function">get_means</dd>
                <dd id="RamseyDecayModel.get_means_key" class="function">get_means_key</dd>
                <dd id="RamseyDecayModel.errors" class="variable">errors</dd>
                <dd id="RamseyDecayModel.xs" class="variable">xs</dd>
                <dd id="RamseyDecayModel.get_xs" class="function">get_xs</dd>
                <dd id="RamseyDecayModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="RamseyDecayModel.load_counts" class="function">load_counts</dd>
                <dd id="RamseyDecayModel.load_xs" class="function">load_xs</dd>
                <dd id="RamseyDecayModel.load_errors" class="function">load_errors</dd>
                <dd id="RamseyDecayModel.load_means" class="function">load_means</dd>
                <dd id="RamseyDecayModel.calc_hist" class="function">calc_hist</dd>
                <dd id="RamseyDecayModel.calc_mean" class="function">calc_mean</dd>
                <dd id="RamseyDecayModel.calc_error" class="function">calc_error</dd>
                <dd id="RamseyDecayModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="RamseyDecayModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="RamseyDecayModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="RamseyDecayModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="RamseyDecayModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="RamseyDecayModel.get_fit" class="function">get_fit</dd>
                <dd id="RamseyDecayModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="RamseyDecayModel.get_guess" class="function">get_guess</dd>
                <dd id="RamseyDecayModel.fit_data" class="function">fit_data</dd>
                <dd id="RamseyDecayModel.before_validate" class="function">before_validate</dd>
                <dd id="RamseyDecayModel.validate_fit" class="function">validate_fit</dd>
                <dd id="RamseyDecayModel.save_fit" class="function">save_fit</dd>
                <dd id="RamseyDecayModel.set_fits" class="function">set_fits</dd>
                <dd id="RamseyDecayModel.report_fit" class="function">report_fit</dd>
                <dd id="RamseyDecayModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="RamseyDecayModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="RamseyDecayModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="RamseyDecayModel.valid" class="variable">valid</dd>
                <dd id="RamseyDecayModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="RamseyDecayModel.map_namespace" class="function">map_namespace</dd>
                <dd id="RamseyDecayModel.key" class="function">key</dd>
                <dd id="RamseyDecayModel.default_key" class="function">default_key</dd>
                <dd id="RamseyDecayModel.init" class="function">init</dd>
                <dd id="RamseyDecayModel.write" class="function">write</dd>
                <dd id="RamseyDecayModel.set" class="function">set</dd>
                <dd id="RamseyDecayModel.get_default" class="function">get_default</dd>
                <dd id="RamseyDecayModel.get" class="function">get</dd>
                <dd id="RamseyDecayModel.mutate" class="function">mutate</dd>
                <dd id="RamseyDecayModel.exists" class="function">exists</dd>
                <dd id="RamseyDecayModel.create" class="function">create</dd>
                <dd id="RamseyDecayModel.setattr" class="function">setattr</dd>
                <dd id="RamseyDecayModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="RamseyDecayModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="RamseyDecayModel.validate_between" class="function">validate_between</dd>
                <dd id="RamseyDecayModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="RamseyDecayModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PicoModel">
                            <input id="PicoModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PicoModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="PicoModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PicoModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PicoModel-324"><a href="#PicoModel-324"><span class="linenos">324</span></a><span class="k">class</span> <span class="nc">PicoModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="PicoModel-325"><a href="#PicoModel-325"><span class="linenos">325</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PM2&#39;</span>
</span><span id="PicoModel-326"><a href="#PicoModel-326"><span class="linenos">326</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition prob (x10e6)&#39;</span>
</span><span id="PicoModel-327"><a href="#PicoModel-327"><span class="linenos">327</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="PicoModel-328"><a href="#PicoModel-328"><span class="linenos">328</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Position&#39;</span>
</span><span id="PicoModel-329"><a href="#PicoModel-329"><span class="linenos">329</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="PicoModel-330"><a href="#PicoModel-330"><span class="linenos">330</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Scan&#39;</span>
</span><span id="PicoModel-331"><a href="#PicoModel-331"><span class="linenos">331</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="PicoModel-332"><a href="#PicoModel-332"><span class="linenos">332</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;x0&#39;</span>
</span><span id="PicoModel-333"><a href="#PicoModel-333"><span class="linenos">333</span></a>         
</span><span id="PicoModel-334"><a href="#PicoModel-334"><span class="linenos">334</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span><span id="PicoModel-335"><a href="#PicoModel-335"><span class="linenos">335</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="PicoModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;PM2&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.namespace"></a>
    
    

                            </div>
                            <div id="PicoModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Transition prob (x10e6)&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.y_label"></a>
    
    

                            </div>
                            <div id="PicoModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="PicoModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Picomotor 2 Position&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.x_label"></a>
    
    

                            </div>
                            <div id="PicoModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;steps&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.x_units"></a>
    
    

                            </div>
                            <div id="PicoModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Picomotor Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.plot_title"></a>
    
    

                            </div>
                            <div id="PicoModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Gauss&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.fit_function"></a>
    
    

                            </div>
                            <div id="PicoModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;x0&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.main_fit"></a>
    
    

                            </div>
                            <div id="PicoModel.x_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">x_scale</span>        =
<span class="default_value">1000</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.x_scale"></a>
    
    

                            </div>
                            <div id="PicoModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#PicoModel.y_scale"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="PicoModel.__init__" class="function">HasEnvironment</dd>
                <dd id="PicoModel.children" class="variable">children</dd>
                <dd id="PicoModel.register_child" class="function">register_child</dd>
                <dd id="PicoModel.call_child_method" class="function">call_child_method</dd>
                <dd id="PicoModel.get_argument" class="function">get_argument</dd>
                <dd id="PicoModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="PicoModel.get_device_db" class="function">get_device_db</dd>
                <dd id="PicoModel.get_device" class="function">get_device</dd>
                <dd id="PicoModel.setattr_device" class="function">setattr_device</dd>
                <dd id="PicoModel.set_dataset" class="function">set_dataset</dd>
                <dd id="PicoModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="PicoModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="PicoModel.get_dataset" class="function">get_dataset</dd>
                <dd id="PicoModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="PicoModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="PicoModel.default_fit" class="variable">default_fit</dd>
                <dd id="PicoModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="PicoModel.x_offset" class="variable">x_offset</dd>
                <dd id="PicoModel.subspace" class="variable">subspace</dd>
                <dd id="PicoModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="PicoModel.broadcast" class="variable">broadcast</dd>
                <dd id="PicoModel.persist" class="variable">persist</dd>
                <dd id="PicoModel.save" class="variable">save</dd>
                <dd id="PicoModel.mirror" class="variable">mirror</dd>
                <dd id="PicoModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="PicoModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="PicoModel.fit_map" class="variable">fit_map</dd>
                <dd id="PicoModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="PicoModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="PicoModel.guess" class="variable">guess</dd>
                <dd id="PicoModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="PicoModel.man_scale" class="variable">man_scale</dd>
                <dd id="PicoModel.hold" class="variable">hold</dd>
                <dd id="PicoModel.validators" class="variable">validators</dd>
                <dd id="PicoModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="PicoModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="PicoModel.bin_start" class="variable">bin_start</dd>
                <dd id="PicoModel.bin_end" class="variable">bin_end</dd>
                <dd id="PicoModel.y_units" class="variable">y_units</dd>
                <dd id="PicoModel.counts" class="variable">counts</dd>
                <dd id="PicoModel.fits_set" class="variable">fits_set</dd>
                <dd id="PicoModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="PicoModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="PicoModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="PicoModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="PicoModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="PicoModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="PicoModel.type" class="variable">type</dd>
                <dd id="PicoModel.report" class="function">report</dd>
                <dd id="PicoModel.build" class="function">build</dd>
                <dd id="PicoModel.reset_state" class="function">reset_state</dd>
                <dd id="PicoModel.bind" class="function">bind</dd>
                <dd id="PicoModel.attach" class="function">attach</dd>
                <dd id="PicoModel.load" class="function">load</dd>
                <dd id="PicoModel.init_datasets" class="function">init_datasets</dd>
                <dd id="PicoModel.init_plots" class="function">init_plots</dd>
                <dd id="PicoModel.write_datasets" class="function">write_datasets</dd>
                <dd id="PicoModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="PicoModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="PicoModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="PicoModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="PicoModel.mutate_points" class="function">mutate_points</dd>
                <dd id="PicoModel.mutate_means" class="function">mutate_means</dd>
                <dd id="PicoModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="PicoModel.get_means" class="function">get_means</dd>
                <dd id="PicoModel.get_means_key" class="function">get_means_key</dd>
                <dd id="PicoModel.errors" class="variable">errors</dd>
                <dd id="PicoModel.xs" class="variable">xs</dd>
                <dd id="PicoModel.get_xs" class="function">get_xs</dd>
                <dd id="PicoModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="PicoModel.load_counts" class="function">load_counts</dd>
                <dd id="PicoModel.load_xs" class="function">load_xs</dd>
                <dd id="PicoModel.load_errors" class="function">load_errors</dd>
                <dd id="PicoModel.load_means" class="function">load_means</dd>
                <dd id="PicoModel.calc_hist" class="function">calc_hist</dd>
                <dd id="PicoModel.calc_mean" class="function">calc_mean</dd>
                <dd id="PicoModel.calc_error" class="function">calc_error</dd>
                <dd id="PicoModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="PicoModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="PicoModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="PicoModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="PicoModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="PicoModel.get_fit" class="function">get_fit</dd>
                <dd id="PicoModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="PicoModel.get_guess" class="function">get_guess</dd>
                <dd id="PicoModel.fit_data" class="function">fit_data</dd>
                <dd id="PicoModel.before_validate" class="function">before_validate</dd>
                <dd id="PicoModel.validate_fit" class="function">validate_fit</dd>
                <dd id="PicoModel.save_fit" class="function">save_fit</dd>
                <dd id="PicoModel.set_fits" class="function">set_fits</dd>
                <dd id="PicoModel.report_fit" class="function">report_fit</dd>
                <dd id="PicoModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="PicoModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="PicoModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="PicoModel.valid" class="variable">valid</dd>
                <dd id="PicoModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="PicoModel.map_namespace" class="function">map_namespace</dd>
                <dd id="PicoModel.key" class="function">key</dd>
                <dd id="PicoModel.default_key" class="function">default_key</dd>
                <dd id="PicoModel.init" class="function">init</dd>
                <dd id="PicoModel.write" class="function">write</dd>
                <dd id="PicoModel.set" class="function">set</dd>
                <dd id="PicoModel.get_default" class="function">get_default</dd>
                <dd id="PicoModel.get" class="function">get</dd>
                <dd id="PicoModel.mutate" class="function">mutate</dd>
                <dd id="PicoModel.exists" class="function">exists</dd>
                <dd id="PicoModel.create" class="function">create</dd>
                <dd id="PicoModel.setattr" class="function">setattr</dd>
                <dd id="PicoModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="PicoModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="PicoModel.validate_between" class="function">validate_between</dd>
                <dd id="PicoModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="PicoModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FreqModelGen">
                            <input id="FreqModelGen-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FreqModelGen</span><wbr>(<span class="base">scan_framework.models.freq_model.FreqModel</span>):

                <label class="view-source-button" for="FreqModelGen-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FreqModelGen"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FreqModelGen-337"><a href="#FreqModelGen-337"><span class="linenos">337</span></a><span class="k">class</span> <span class="nc">FreqModelGen</span><span class="p">(</span><span class="n">FreqModel</span><span class="p">):</span>
</span><span id="FreqModelGen-338"><a href="#FreqModelGen-338"><span class="linenos">338</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;FreqModel&#39;</span>
</span><span id="FreqModelGen-339"><a href="#FreqModelGen-339"><span class="linenos">339</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Transition prob.&#39;</span>
</span><span id="FreqModelGen-340"><a href="#FreqModelGen-340"><span class="linenos">340</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="FreqModelGen-341"><a href="#FreqModelGen-341"><span class="linenos">341</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span>
</span><span id="FreqModelGen-342"><a href="#FreqModelGen-342"><span class="linenos">342</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;MHz&#39;</span>
</span><span id="FreqModelGen-343"><a href="#FreqModelGen-343"><span class="linenos">343</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Frequency Scan&#39;</span>
</span><span id="FreqModelGen-344"><a href="#FreqModelGen-344"><span class="linenos">344</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="FreqModelGen-345"><a href="#FreqModelGen-345"><span class="linenos">345</span></a>         
</span><span id="FreqModelGen-346"><a href="#FreqModelGen-346"><span class="linenos">346</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="FreqModelGen-347"><a href="#FreqModelGen-347"><span class="linenos">347</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1</span> 
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="FreqModelGen.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;FreqModel&#39;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.namespace"></a>
    
    

                            </div>
                            <div id="FreqModelGen.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Transition prob.&#39;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.y_label"></a>
    
    

                            </div>
                            <div id="FreqModelGen.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.enable_histograms"></a>
    
    

                            </div>
                            <div id="FreqModelGen.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Frequency&#39;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.x_label"></a>
    
    

                            </div>
                            <div id="FreqModelGen.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;MHz&#39;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.x_units"></a>
    
    

                            </div>
                            <div id="FreqModelGen.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Frequency Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.plot_title"></a>
    
    

                            </div>
                            <div id="FreqModelGen.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Gauss&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.fit_function"></a>
    
    

                            </div>
                            <div id="FreqModelGen.x_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">x_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.x_scale"></a>
    
    

                            </div>
                            <div id="FreqModelGen.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1</span>

        
    </div>
    <a class="headerlink" href="#FreqModelGen.y_scale"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="FreqModelGen.__init__" class="function">HasEnvironment</dd>
                <dd id="FreqModelGen.children" class="variable">children</dd>
                <dd id="FreqModelGen.register_child" class="function">register_child</dd>
                <dd id="FreqModelGen.call_child_method" class="function">call_child_method</dd>
                <dd id="FreqModelGen.get_argument" class="function">get_argument</dd>
                <dd id="FreqModelGen.setattr_argument" class="function">setattr_argument</dd>
                <dd id="FreqModelGen.get_device_db" class="function">get_device_db</dd>
                <dd id="FreqModelGen.get_device" class="function">get_device</dd>
                <dd id="FreqModelGen.setattr_device" class="function">setattr_device</dd>
                <dd id="FreqModelGen.set_dataset" class="function">set_dataset</dd>
                <dd id="FreqModelGen.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="FreqModelGen.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="FreqModelGen.get_dataset" class="function">get_dataset</dd>
                <dd id="FreqModelGen.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="FreqModelGen.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="FreqModelGen.default_fit" class="variable">default_fit</dd>
                <dd id="FreqModelGen.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="FreqModelGen.x_offset" class="variable">x_offset</dd>
                <dd id="FreqModelGen.subspace" class="variable">subspace</dd>
                <dd id="FreqModelGen.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="FreqModelGen.broadcast" class="variable">broadcast</dd>
                <dd id="FreqModelGen.persist" class="variable">persist</dd>
                <dd id="FreqModelGen.save" class="variable">save</dd>
                <dd id="FreqModelGen.mirror" class="variable">mirror</dd>
                <dd id="FreqModelGen.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="FreqModelGen.disable_validations" class="variable">disable_validations</dd>
                <dd id="FreqModelGen.fit_map" class="variable">fit_map</dd>
                <dd id="FreqModelGen.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="FreqModelGen.main_fit" class="variable">main_fit</dd>
                <dd id="FreqModelGen.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="FreqModelGen.guess" class="variable">guess</dd>
                <dd id="FreqModelGen.man_bounds" class="variable">man_bounds</dd>
                <dd id="FreqModelGen.man_scale" class="variable">man_scale</dd>
                <dd id="FreqModelGen.hold" class="variable">hold</dd>
                <dd id="FreqModelGen.validators" class="variable">validators</dd>
                <dd id="FreqModelGen.strong_validators" class="variable">strong_validators</dd>
                <dd id="FreqModelGen.pre_validators" class="variable">pre_validators</dd>
                <dd id="FreqModelGen.bin_start" class="variable">bin_start</dd>
                <dd id="FreqModelGen.bin_end" class="variable">bin_end</dd>
                <dd id="FreqModelGen.y_units" class="variable">y_units</dd>
                <dd id="FreqModelGen.counts" class="variable">counts</dd>
                <dd id="FreqModelGen.fits_set" class="variable">fits_set</dd>
                <dd id="FreqModelGen.fits_saved" class="variable">fits_saved</dd>
                <dd id="FreqModelGen.fit_performed" class="variable">fit_performed</dd>
                <dd id="FreqModelGen.fit_valid" class="variable">fit_valid</dd>
                <dd id="FreqModelGen.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="FreqModelGen.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="FreqModelGen.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="FreqModelGen.type" class="variable">type</dd>
                <dd id="FreqModelGen.report" class="function">report</dd>
                <dd id="FreqModelGen.build" class="function">build</dd>
                <dd id="FreqModelGen.reset_state" class="function">reset_state</dd>
                <dd id="FreqModelGen.bind" class="function">bind</dd>
                <dd id="FreqModelGen.attach" class="function">attach</dd>
                <dd id="FreqModelGen.load" class="function">load</dd>
                <dd id="FreqModelGen.init_datasets" class="function">init_datasets</dd>
                <dd id="FreqModelGen.init_plots" class="function">init_plots</dd>
                <dd id="FreqModelGen.write_datasets" class="function">write_datasets</dd>
                <dd id="FreqModelGen.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="FreqModelGen.mutate_plot" class="function">mutate_plot</dd>
                <dd id="FreqModelGen.get_plot_data" class="function">get_plot_data</dd>
                <dd id="FreqModelGen.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="FreqModelGen.mutate_points" class="function">mutate_points</dd>
                <dd id="FreqModelGen.mutate_means" class="function">mutate_means</dd>
                <dd id="FreqModelGen.mutate_errors" class="function">mutate_errors</dd>
                <dd id="FreqModelGen.get_means" class="function">get_means</dd>
                <dd id="FreqModelGen.get_means_key" class="function">get_means_key</dd>
                <dd id="FreqModelGen.errors" class="variable">errors</dd>
                <dd id="FreqModelGen.xs" class="variable">xs</dd>
                <dd id="FreqModelGen.get_xs" class="function">get_xs</dd>
                <dd id="FreqModelGen.get_xs_key" class="function">get_xs_key</dd>
                <dd id="FreqModelGen.load_counts" class="function">load_counts</dd>
                <dd id="FreqModelGen.load_xs" class="function">load_xs</dd>
                <dd id="FreqModelGen.load_errors" class="function">load_errors</dd>
                <dd id="FreqModelGen.load_means" class="function">load_means</dd>
                <dd id="FreqModelGen.calc_hist" class="function">calc_hist</dd>
                <dd id="FreqModelGen.calc_mean" class="function">calc_mean</dd>
                <dd id="FreqModelGen.calc_error" class="function">calc_error</dd>
                <dd id="FreqModelGen.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="FreqModelGen.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="FreqModelGen.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="FreqModelGen.get_main_fit" class="function">get_main_fit</dd>
                <dd id="FreqModelGen.set_main_fit" class="function">set_main_fit</dd>
                <dd id="FreqModelGen.get_fit" class="function">get_fit</dd>
                <dd id="FreqModelGen.get_fit_data" class="function">get_fit_data</dd>
                <dd id="FreqModelGen.get_guess" class="function">get_guess</dd>
                <dd id="FreqModelGen.fit_data" class="function">fit_data</dd>
                <dd id="FreqModelGen.before_validate" class="function">before_validate</dd>
                <dd id="FreqModelGen.validate_fit" class="function">validate_fit</dd>
                <dd id="FreqModelGen.save_fit" class="function">save_fit</dd>
                <dd id="FreqModelGen.set_fits" class="function">set_fits</dd>
                <dd id="FreqModelGen.report_fit" class="function">report_fit</dd>
                <dd id="FreqModelGen.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="FreqModelGen.simulation_args" class="variable">simulation_args</dd>
                <dd id="FreqModelGen.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="FreqModelGen.valid" class="variable">valid</dd>
                <dd id="FreqModelGen.default_fallback" class="variable">default_fallback</dd>
                <dd id="FreqModelGen.map_namespace" class="function">map_namespace</dd>
                <dd id="FreqModelGen.key" class="function">key</dd>
                <dd id="FreqModelGen.default_key" class="function">default_key</dd>
                <dd id="FreqModelGen.init" class="function">init</dd>
                <dd id="FreqModelGen.write" class="function">write</dd>
                <dd id="FreqModelGen.set" class="function">set</dd>
                <dd id="FreqModelGen.get_default" class="function">get_default</dd>
                <dd id="FreqModelGen.get" class="function">get</dd>
                <dd id="FreqModelGen.mutate" class="function">mutate</dd>
                <dd id="FreqModelGen.exists" class="function">exists</dd>
                <dd id="FreqModelGen.create" class="function">create</dd>
                <dd id="FreqModelGen.setattr" class="function">setattr</dd>
                <dd id="FreqModelGen.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="FreqModelGen.validate_less_than" class="function">validate_less_than</dd>
                <dd id="FreqModelGen.validate_between" class="function">validate_between</dd>
                <dd id="FreqModelGen.validate_max_change" class="function">validate_max_change</dd>
                <dd id="FreqModelGen.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LinearModel">
                            <input id="LinearModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LinearModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="LinearModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LinearModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LinearModel-350"><a href="#LinearModel-350"><span class="linenos">350</span></a><span class="k">class</span> <span class="nc">LinearModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="LinearModel-351"><a href="#LinearModel-351"><span class="linenos">351</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMCal&#39;</span>
</span><span id="LinearModel-352"><a href="#LinearModel-352"><span class="linenos">352</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Optimum&#39;</span>
</span><span id="LinearModel-353"><a href="#LinearModel-353"><span class="linenos">353</span></a>    <span class="n">y_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="LinearModel-354"><a href="#LinearModel-354"><span class="linenos">354</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="LinearModel-355"><a href="#LinearModel-355"><span class="linenos">355</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 1 Position&#39;</span>
</span><span id="LinearModel-356"><a href="#LinearModel-356"><span class="linenos">356</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;steps&#39;</span>
</span><span id="LinearModel-357"><a href="#LinearModel-357"><span class="linenos">357</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Calibration&#39;</span>
</span><span id="LinearModel-358"><a href="#LinearModel-358"><span class="linenos">358</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Poly</span>
</span><span id="LinearModel-359"><a href="#LinearModel-359"><span class="linenos">359</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span><span id="LinearModel-360"><a href="#LinearModel-360"><span class="linenos">360</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mi">1000</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="LinearModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;PMCal&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.namespace"></a>
    
    

                            </div>
                            <div id="LinearModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Picomotor 2 Optimum&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.y_label"></a>
    
    

                            </div>
                            <div id="LinearModel.y_units" class="classattr">
                                <div class="attr variable">
            <span class="name">y_units</span>        =
<span class="default_value">&#39;steps&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.y_units"></a>
    
    

                            </div>
                            <div id="LinearModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="LinearModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Picomotor 1 Position&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.x_label"></a>
    
    

                            </div>
                            <div id="LinearModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;steps&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.x_units"></a>
    
    

                            </div>
                            <div id="LinearModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Picomotor Calibration&#39;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.plot_title"></a>
    
    

                            </div>
                            <div id="LinearModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Poly&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.fit_function"></a>
    
    

                            </div>
                            <div id="LinearModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.y_scale"></a>
    
    

                            </div>
                            <div id="LinearModel.x_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">x_scale</span>        =
<span class="default_value">1000</span>

        
    </div>
    <a class="headerlink" href="#LinearModel.x_scale"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="LinearModel.__init__" class="function">HasEnvironment</dd>
                <dd id="LinearModel.children" class="variable">children</dd>
                <dd id="LinearModel.register_child" class="function">register_child</dd>
                <dd id="LinearModel.call_child_method" class="function">call_child_method</dd>
                <dd id="LinearModel.get_argument" class="function">get_argument</dd>
                <dd id="LinearModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="LinearModel.get_device_db" class="function">get_device_db</dd>
                <dd id="LinearModel.get_device" class="function">get_device</dd>
                <dd id="LinearModel.setattr_device" class="function">setattr_device</dd>
                <dd id="LinearModel.set_dataset" class="function">set_dataset</dd>
                <dd id="LinearModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="LinearModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="LinearModel.get_dataset" class="function">get_dataset</dd>
                <dd id="LinearModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="LinearModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="LinearModel.default_fit" class="variable">default_fit</dd>
                <dd id="LinearModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="LinearModel.x_offset" class="variable">x_offset</dd>
                <dd id="LinearModel.subspace" class="variable">subspace</dd>
                <dd id="LinearModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="LinearModel.broadcast" class="variable">broadcast</dd>
                <dd id="LinearModel.persist" class="variable">persist</dd>
                <dd id="LinearModel.save" class="variable">save</dd>
                <dd id="LinearModel.mirror" class="variable">mirror</dd>
                <dd id="LinearModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="LinearModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="LinearModel.fit_map" class="variable">fit_map</dd>
                <dd id="LinearModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="LinearModel.main_fit" class="variable">main_fit</dd>
                <dd id="LinearModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="LinearModel.guess" class="variable">guess</dd>
                <dd id="LinearModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="LinearModel.man_scale" class="variable">man_scale</dd>
                <dd id="LinearModel.hold" class="variable">hold</dd>
                <dd id="LinearModel.validators" class="variable">validators</dd>
                <dd id="LinearModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="LinearModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="LinearModel.bin_start" class="variable">bin_start</dd>
                <dd id="LinearModel.bin_end" class="variable">bin_end</dd>
                <dd id="LinearModel.counts" class="variable">counts</dd>
                <dd id="LinearModel.fits_set" class="variable">fits_set</dd>
                <dd id="LinearModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="LinearModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="LinearModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="LinearModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="LinearModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="LinearModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="LinearModel.type" class="variable">type</dd>
                <dd id="LinearModel.report" class="function">report</dd>
                <dd id="LinearModel.build" class="function">build</dd>
                <dd id="LinearModel.reset_state" class="function">reset_state</dd>
                <dd id="LinearModel.bind" class="function">bind</dd>
                <dd id="LinearModel.attach" class="function">attach</dd>
                <dd id="LinearModel.load" class="function">load</dd>
                <dd id="LinearModel.init_datasets" class="function">init_datasets</dd>
                <dd id="LinearModel.init_plots" class="function">init_plots</dd>
                <dd id="LinearModel.write_datasets" class="function">write_datasets</dd>
                <dd id="LinearModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="LinearModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="LinearModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="LinearModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="LinearModel.mutate_points" class="function">mutate_points</dd>
                <dd id="LinearModel.mutate_means" class="function">mutate_means</dd>
                <dd id="LinearModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="LinearModel.get_means" class="function">get_means</dd>
                <dd id="LinearModel.get_means_key" class="function">get_means_key</dd>
                <dd id="LinearModel.errors" class="variable">errors</dd>
                <dd id="LinearModel.xs" class="variable">xs</dd>
                <dd id="LinearModel.get_xs" class="function">get_xs</dd>
                <dd id="LinearModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="LinearModel.load_counts" class="function">load_counts</dd>
                <dd id="LinearModel.load_xs" class="function">load_xs</dd>
                <dd id="LinearModel.load_errors" class="function">load_errors</dd>
                <dd id="LinearModel.load_means" class="function">load_means</dd>
                <dd id="LinearModel.calc_hist" class="function">calc_hist</dd>
                <dd id="LinearModel.calc_mean" class="function">calc_mean</dd>
                <dd id="LinearModel.calc_error" class="function">calc_error</dd>
                <dd id="LinearModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="LinearModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="LinearModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="LinearModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="LinearModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="LinearModel.get_fit" class="function">get_fit</dd>
                <dd id="LinearModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="LinearModel.get_guess" class="function">get_guess</dd>
                <dd id="LinearModel.fit_data" class="function">fit_data</dd>
                <dd id="LinearModel.before_validate" class="function">before_validate</dd>
                <dd id="LinearModel.validate_fit" class="function">validate_fit</dd>
                <dd id="LinearModel.save_fit" class="function">save_fit</dd>
                <dd id="LinearModel.set_fits" class="function">set_fits</dd>
                <dd id="LinearModel.report_fit" class="function">report_fit</dd>
                <dd id="LinearModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="LinearModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="LinearModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="LinearModel.valid" class="variable">valid</dd>
                <dd id="LinearModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="LinearModel.map_namespace" class="function">map_namespace</dd>
                <dd id="LinearModel.key" class="function">key</dd>
                <dd id="LinearModel.default_key" class="function">default_key</dd>
                <dd id="LinearModel.init" class="function">init</dd>
                <dd id="LinearModel.write" class="function">write</dd>
                <dd id="LinearModel.set" class="function">set</dd>
                <dd id="LinearModel.get_default" class="function">get_default</dd>
                <dd id="LinearModel.get" class="function">get</dd>
                <dd id="LinearModel.mutate" class="function">mutate</dd>
                <dd id="LinearModel.exists" class="function">exists</dd>
                <dd id="LinearModel.create" class="function">create</dd>
                <dd id="LinearModel.setattr" class="function">setattr</dd>
                <dd id="LinearModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="LinearModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="LinearModel.validate_between" class="function">validate_between</dd>
                <dd id="LinearModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="LinearModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PicoAngleModel">
                            <input id="PicoAngleModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PicoAngleModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="PicoAngleModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PicoAngleModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PicoAngleModel-362"><a href="#PicoAngleModel-362"><span class="linenos">362</span></a><span class="k">class</span> <span class="nc">PicoAngleModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="PicoAngleModel-363"><a href="#PicoAngleModel-363"><span class="linenos">363</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMAngle&#39;</span>
</span><span id="PicoAngleModel-364"><a href="#PicoAngleModel-364"><span class="linenos">364</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Max Contrast Ratio&#39;</span>
</span><span id="PicoAngleModel-365"><a href="#PicoAngleModel-365"><span class="linenos">365</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="PicoAngleModel-366"><a href="#PicoAngleModel-366"><span class="linenos">366</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 1 Position&#39;</span>
</span><span id="PicoAngleModel-367"><a href="#PicoAngleModel-367"><span class="linenos">367</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e3</span>
</span><span id="PicoAngleModel-368"><a href="#PicoAngleModel-368"><span class="linenos">368</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;1e3 steps&#39;</span>
</span><span id="PicoAngleModel-369"><a href="#PicoAngleModel-369"><span class="linenos">369</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Angle Scan&#39;</span>
</span><span id="PicoAngleModel-370"><a href="#PicoAngleModel-370"><span class="linenos">370</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="PicoAngleModel-371"><a href="#PicoAngleModel-371"><span class="linenos">371</span></a>    <span class="n">main_fit</span><span class="o">=</span><span class="kc">True</span>
</span><span id="PicoAngleModel-372"><a href="#PicoAngleModel-372"><span class="linenos">372</span></a>    <span class="n">persist</span><span class="o">=</span><span class="kc">False</span>
</span><span id="PicoAngleModel-373"><a href="#PicoAngleModel-373"><span class="linenos">373</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y0&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="PicoAngleModel-374"><a href="#PicoAngleModel-374"><span class="linenos">374</span></a>    <span class="c1"># man_scale={&#39;sigma&#39;:1, &#39;A&#39;:1, &#39;x0&#39;:1, &#39;y0&#39;:1}</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="PicoAngleModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;PMAngle&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.namespace"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Max Contrast Ratio&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.y_label"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Picomotor 1 Position&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.x_label"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.x_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">x_scale</span>        =
<span class="default_value">1000.0</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.x_scale"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;1e3 steps&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.x_units"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Picomotor Angle Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.plot_title"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Gauss&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.fit_function"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.main_fit"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.persist" class="classattr">
                                <div class="attr variable">
            <span class="name">persist</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.persist"></a>
    
    

                            </div>
                            <div id="PicoAngleModel.hold" class="classattr">
                                <div class="attr variable">
            <span class="name">hold</span>        =
<span class="default_value">{&#39;y0&#39;: 0}</span>

        
    </div>
    <a class="headerlink" href="#PicoAngleModel.hold"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="PicoAngleModel.__init__" class="function">HasEnvironment</dd>
                <dd id="PicoAngleModel.children" class="variable">children</dd>
                <dd id="PicoAngleModel.register_child" class="function">register_child</dd>
                <dd id="PicoAngleModel.call_child_method" class="function">call_child_method</dd>
                <dd id="PicoAngleModel.get_argument" class="function">get_argument</dd>
                <dd id="PicoAngleModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="PicoAngleModel.get_device_db" class="function">get_device_db</dd>
                <dd id="PicoAngleModel.get_device" class="function">get_device</dd>
                <dd id="PicoAngleModel.setattr_device" class="function">setattr_device</dd>
                <dd id="PicoAngleModel.set_dataset" class="function">set_dataset</dd>
                <dd id="PicoAngleModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="PicoAngleModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="PicoAngleModel.get_dataset" class="function">get_dataset</dd>
                <dd id="PicoAngleModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="PicoAngleModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="PicoAngleModel.default_fit" class="variable">default_fit</dd>
                <dd id="PicoAngleModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="PicoAngleModel.x_offset" class="variable">x_offset</dd>
                <dd id="PicoAngleModel.subspace" class="variable">subspace</dd>
                <dd id="PicoAngleModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="PicoAngleModel.broadcast" class="variable">broadcast</dd>
                <dd id="PicoAngleModel.save" class="variable">save</dd>
                <dd id="PicoAngleModel.mirror" class="variable">mirror</dd>
                <dd id="PicoAngleModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="PicoAngleModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="PicoAngleModel.fit_map" class="variable">fit_map</dd>
                <dd id="PicoAngleModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="PicoAngleModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="PicoAngleModel.guess" class="variable">guess</dd>
                <dd id="PicoAngleModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="PicoAngleModel.man_scale" class="variable">man_scale</dd>
                <dd id="PicoAngleModel.validators" class="variable">validators</dd>
                <dd id="PicoAngleModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="PicoAngleModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="PicoAngleModel.bin_start" class="variable">bin_start</dd>
                <dd id="PicoAngleModel.bin_end" class="variable">bin_end</dd>
                <dd id="PicoAngleModel.y_scale" class="variable">y_scale</dd>
                <dd id="PicoAngleModel.y_units" class="variable">y_units</dd>
                <dd id="PicoAngleModel.counts" class="variable">counts</dd>
                <dd id="PicoAngleModel.fits_set" class="variable">fits_set</dd>
                <dd id="PicoAngleModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="PicoAngleModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="PicoAngleModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="PicoAngleModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="PicoAngleModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="PicoAngleModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="PicoAngleModel.type" class="variable">type</dd>
                <dd id="PicoAngleModel.report" class="function">report</dd>
                <dd id="PicoAngleModel.build" class="function">build</dd>
                <dd id="PicoAngleModel.reset_state" class="function">reset_state</dd>
                <dd id="PicoAngleModel.bind" class="function">bind</dd>
                <dd id="PicoAngleModel.attach" class="function">attach</dd>
                <dd id="PicoAngleModel.load" class="function">load</dd>
                <dd id="PicoAngleModel.init_datasets" class="function">init_datasets</dd>
                <dd id="PicoAngleModel.init_plots" class="function">init_plots</dd>
                <dd id="PicoAngleModel.write_datasets" class="function">write_datasets</dd>
                <dd id="PicoAngleModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="PicoAngleModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="PicoAngleModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="PicoAngleModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="PicoAngleModel.mutate_points" class="function">mutate_points</dd>
                <dd id="PicoAngleModel.mutate_means" class="function">mutate_means</dd>
                <dd id="PicoAngleModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="PicoAngleModel.get_means" class="function">get_means</dd>
                <dd id="PicoAngleModel.get_means_key" class="function">get_means_key</dd>
                <dd id="PicoAngleModel.errors" class="variable">errors</dd>
                <dd id="PicoAngleModel.xs" class="variable">xs</dd>
                <dd id="PicoAngleModel.get_xs" class="function">get_xs</dd>
                <dd id="PicoAngleModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="PicoAngleModel.load_counts" class="function">load_counts</dd>
                <dd id="PicoAngleModel.load_xs" class="function">load_xs</dd>
                <dd id="PicoAngleModel.load_errors" class="function">load_errors</dd>
                <dd id="PicoAngleModel.load_means" class="function">load_means</dd>
                <dd id="PicoAngleModel.calc_hist" class="function">calc_hist</dd>
                <dd id="PicoAngleModel.calc_mean" class="function">calc_mean</dd>
                <dd id="PicoAngleModel.calc_error" class="function">calc_error</dd>
                <dd id="PicoAngleModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="PicoAngleModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="PicoAngleModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="PicoAngleModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="PicoAngleModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="PicoAngleModel.get_fit" class="function">get_fit</dd>
                <dd id="PicoAngleModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="PicoAngleModel.get_guess" class="function">get_guess</dd>
                <dd id="PicoAngleModel.fit_data" class="function">fit_data</dd>
                <dd id="PicoAngleModel.before_validate" class="function">before_validate</dd>
                <dd id="PicoAngleModel.validate_fit" class="function">validate_fit</dd>
                <dd id="PicoAngleModel.save_fit" class="function">save_fit</dd>
                <dd id="PicoAngleModel.set_fits" class="function">set_fits</dd>
                <dd id="PicoAngleModel.report_fit" class="function">report_fit</dd>
                <dd id="PicoAngleModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="PicoAngleModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="PicoAngleModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="PicoAngleModel.valid" class="variable">valid</dd>
                <dd id="PicoAngleModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="PicoAngleModel.map_namespace" class="function">map_namespace</dd>
                <dd id="PicoAngleModel.key" class="function">key</dd>
                <dd id="PicoAngleModel.default_key" class="function">default_key</dd>
                <dd id="PicoAngleModel.init" class="function">init</dd>
                <dd id="PicoAngleModel.write" class="function">write</dd>
                <dd id="PicoAngleModel.set" class="function">set</dd>
                <dd id="PicoAngleModel.get_default" class="function">get_default</dd>
                <dd id="PicoAngleModel.get" class="function">get</dd>
                <dd id="PicoAngleModel.mutate" class="function">mutate</dd>
                <dd id="PicoAngleModel.exists" class="function">exists</dd>
                <dd id="PicoAngleModel.create" class="function">create</dd>
                <dd id="PicoAngleModel.setattr" class="function">setattr</dd>
                <dd id="PicoAngleModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="PicoAngleModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="PicoAngleModel.validate_between" class="function">validate_between</dd>
                <dd id="PicoAngleModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="PicoAngleModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PicoScanModel">
                            <input id="PicoScanModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PicoScanModel</span><wbr>(<span class="base">scan_framework.models.time_model.TimeModel</span>):

                <label class="view-source-button" for="PicoScanModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PicoScanModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PicoScanModel-377"><a href="#PicoScanModel-377"><span class="linenos">377</span></a><span class="k">class</span> <span class="nc">PicoScanModel</span><span class="p">(</span><span class="n">TimeModel</span><span class="p">):</span>
</span><span id="PicoScanModel-378"><a href="#PicoScanModel-378"><span class="linenos">378</span></a>    <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;PMAngle_Compensation&#39;</span>
</span><span id="PicoScanModel-379"><a href="#PicoScanModel-379"><span class="linenos">379</span></a>    <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Contrast Ratio&#39;</span>
</span><span id="PicoScanModel-380"><a href="#PicoScanModel-380"><span class="linenos">380</span></a>    <span class="n">y_scale</span> <span class="o">=</span> <span class="mf">1e6</span>
</span><span id="PicoScanModel-381"><a href="#PicoScanModel-381"><span class="linenos">381</span></a>    <span class="n">enable_histograms</span><span class="o">=</span><span class="kc">False</span>
</span><span id="PicoScanModel-382"><a href="#PicoScanModel-382"><span class="linenos">382</span></a>    <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Picomotor 2 Position&#39;</span>
</span><span id="PicoScanModel-383"><a href="#PicoScanModel-383"><span class="linenos">383</span></a>    <span class="n">x_scale</span> <span class="o">=</span> <span class="mf">1e3</span>
</span><span id="PicoScanModel-384"><a href="#PicoScanModel-384"><span class="linenos">384</span></a>    <span class="n">x_units</span> <span class="o">=</span> <span class="s1">&#39;1e3 steps&#39;</span>
</span><span id="PicoScanModel-385"><a href="#PicoScanModel-385"><span class="linenos">385</span></a>    <span class="n">main_fit</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span>
</span><span id="PicoScanModel-386"><a href="#PicoScanModel-386"><span class="linenos">386</span></a>    <span class="n">plot_title</span> <span class="o">=</span> <span class="s1">&#39;Picomotor Angle Compensation Scan&#39;</span>
</span><span id="PicoScanModel-387"><a href="#PicoScanModel-387"><span class="linenos">387</span></a>    <span class="n">fit_function</span> <span class="o">=</span> <span class="n">Gauss</span>
</span><span id="PicoScanModel-388"><a href="#PicoScanModel-388"><span class="linenos">388</span></a>    <span class="n">hold</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y0&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</span><span id="PicoScanModel-389"><a href="#PicoScanModel-389"><span class="linenos">389</span></a>    <span class="c1"># man_scale={&#39;sigma&#39;:1, &#39;A&#39;:1, &#39;x0&#39;:1, &#39;y0&#39;:1}</span>
</span></pre></div>


            <div class="docstring"><p>An extension of the <code>~scan_framework.models.model.Model</code> class that handles initializing and mutating scan
datasets, calculating statistics on scan data, and performing fits on the scan data.  All scan models inherit from
this class.</p>

<p><strong>Functions performed during a scan</strong></p>

<p>The ScanModel class performs the following functions when a scan is run.</p>

<ul>
<li>Initializes all datasets for a scan.</li>
<li>Mutates the dataset containing raw counts measured at each scan point.</li>
<li>Calculates statistics (means, errors, histograms) at each scan point and mutates associated datasets.</li>
<li>Performs a fit on the mean values using the <code>~scan_framework.analysis.curvefits</code> package and saves all data
generated by the <code>~scan_framework.analysis.curvefits.Fit.fit_data()</code> method to datasets.</li>
<li>All statistical and fit data are mirrored to the <code>current_scan</code> and <code>current_hist</code> namespaces.</li>
<li>Gives a standardized way of fetching the main fit (e.g. pi_time or res_frequency of a transition)</li>
</ul>

<p><strong>Organization of datasets</strong></p>

<p>Datasets are organized under the namespace by the following hierarchy.</p>

<ul>
<li><p><strong><namespace></strong>  All data is stored under this location which is specified in the child class.</p>

<ul>
<li><strong><namespace>.stats</strong> Contains statistical data, raw data from the scan, and the list of scan points.
<ul>
<li><strong><namespace>.points</strong> List of scan points.</li>
<li><strong><namespace>.counts</strong> Raw counts recorded at each scan point and repetition.</li>
<li><strong><namespace>.mean</strong> Mean count values calculated at each scan point.</li>
<li><strong><namespace>.error</strong> Standard deviation of each mean value in the <namespace>.mean array.</li>
<li><strong><namespace>.hist</strong> Binned mean values at each scan point.  Each entry is the histogram at the
corresponding scan point.</li>
<li><strong><namespace>.bins</strong> Defines the bin boundaries for histograms.</li>
<li><strong><namespace>.nbins</strong> The number of bins to use for histograms.</li>
</ul></li>
<li><strong><namespace>.fits:</strong> Contains all fit data
<ul>
<li><strong><namespace>.fits.params</strong> The value of each fitted parameter.</li>
<li><strong><namespace>.fits.guesses</strong> The guess that was used for each fitted parameter.</li>
<li><strong><namespace>.fits.errors</strong> The estimated error in each fitted parameter.</li>
<li><strong><namespace>.fits.fitline</strong> The line of best fit to the data.</li>
<li><strong><namespace>.fits.analysis</strong>  The standard error in the regression and coefficient of determination (R^2) values
of the fit.</li>
</ul></li>
<li><strong><namespace>.plots:</strong> Contains all data necessary to plot the scan
<ul>
<li><strong><namespace>.plots.x:</strong> x data of the plot.</li>
<li><strong><namespace>.plots.y:</strong> y data of the plot.</li>
<li><strong><namespace>.plots.plot_title:</strong> Title of the plot.</li>
<li><strong><namespace>.plots.x_label:</strong> Label of the x-axis.</li>
<li><strong><namespace>.plots.y_label:</strong> Label of the y-axis.</li>
<li><strong><namespace>.plots.x_units:</strong> Units to display on the x-axis.</li>
<li><strong><namespace>.plots.y_units:</strong> Units to display on the y-axis.</li>
<li><strong><namespace>.plots.x_scale:</strong> x-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.y_scale:</strong> y-axis is scaled by this amount.</li>
<li><strong><namespace>.plots.trigger:</strong> Plots are redrawn by <code>~scan_framework.applets.plot_xy</code> only when trigger
is set to 1.</li>
<li><strong><namespace>.plots.fitline:</strong> The line of best fit.</li>
</ul></li>
<li><p><strong><namespace>.%main_fit</strong>
Contains the main fitted parameter of the scan.  <code>%main_fit</code> is replaced by the value of
the models 'main_fit' attribute  (see dynamic namespaces below).  For example, a microwave frequency scan
might have 'main_fit' set to <code>frequency</code> and the fitted frequency would be saved to <code>microwaves.3322.frequency</code>.</p></li>
<li><p><strong><namespace>.defaults:</strong>
Contains default values for the main fit which are used when a fitted value does not exist.</p></li>
</ul></li>
<li><p><strong>current_scan:</strong>  Namespace under which a mirror of all data generated is stored.  This is used by the current_scan
applet to display results of the current scan.</p></li>
</ul>

<p><strong>Dynamic namespace syntax</strong></p>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ScanModel</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;raman.%transition.%type&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">transition</span> <span class="o">=</span> <span class="s1">&#39;m1_rsb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;frequency&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>  <span class="c1"># prints &#39;raman.m1_rsb.frequency&#39;</span>
</code></pre>
</div>

<p>%transition and %type are tokens that name an attribute of the model.  After calling self.bind() on the model, the
%transition and %type tokens are replaced by self.transition and self.type and the final namespace is
"raman.m1_rsb.frequency".  All future datasets will be stored and accessed under the 'raman.m1_rsb.frequency' namespace.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>namespace</strong>:  Dataset key under which all datasets are created, defaults to None</li>
<li><strong>mirror_namespace</strong>:  Dataset key under which all datasets are mirrored -- datasets under this key are plotted by the current scan applet, defaults to 'current_scan'</li>
<li><strong>broadcast</strong>:  If True all datasets besides the main fit dataset are broadcast when created, defaults to False</li>
<li><strong>persist</strong>:  If True all datasets besides the main fit dataset are persisted, defaults to False</li>
<li><strong>save</strong>:  If True all datasets besides the main fit dataset are archived to the hdf5 file, defaults to True</li>
<li><p><strong>mirror</strong>:  If False datasets will not be mirrored to the mirror_namespace, default to True</p></li>
<li><p><strong>enable_histograms</strong>:  If True, histogram data is generated for plotting by the current scan histogram applet -- this applet displays a histogram of the data collected at each scan point, defaults to True</p></li>
<li><strong>aggregate_histogram</strong>:  If True, histogram data is generated for plotting by the current scan aggregate histogram applet -- this applet displays a histogram of all data collected, aggregated over all scan points, defaults to True</li>
<li><p><strong>disable_validations</strong>:  If True, no fit validatons will be performed, fits will always be performed and no fit param values will be validated, defaults to False</p></li>
<li><p><strong>fit_map</strong>:  Dictionary of fit param names to dataset name mappings.  Fit params are renamed according to this mapping before the fit is saved to the datasets.  Keys specify to a fit param name and the corresponding value in the dictionary specifies the dataset name.  Defaluts to {}</p></li>
<li><strong>fit_function</strong>:  Specifies the fit function that will be used during fitting.  Defaults to None</li>
<li><strong>fit_use_yerr</strong>:  If set to True a weighted fit will be performed using the calculated error in the measurued value at each scan point (by default this is the standard error of the mean value at each scan point). Defaults to True.</li>
<li><strong>guess</strong>:  Dictionary containing initial guesses for the fit params.  Keys specify fit params and the corresponding value gives the numerical guess.  Defaults to {}</li>
<li><strong>man_bounds</strong>:  Dictionary containing manual bounds for each fit param.  Keys specify fit params and the corresponding value is a list specifying the bounds -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>man_scale</strong>:  Dictionary containing manual scales for each fit param.  Keys specify fit params and the corresponding value is a float specifying the scale -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details.  Defaults to {}</li>
<li><strong>hold</strong>:  Dictionary containing held values for each fit param.  Keys specify fit params and the corresponding value is a float specifying the held fit param value -- see <code>scan_framework.analysis.curvefits.Fit</code> for more details, defaults to None</li>
<li><strong>main_fit</strong>:  Dataset name for the main fit param -- this name is automatically prefixed by self.namespace to give the full dataset name.  Defaults to None</li>
<li><p><strong>fits_to_save</strong>:  Any fit param specified in this dictionary will broadcast, persisted, and saved to the datasets.  The format of this dictionary is the same as fit_map, with keys specifying fit param names and values specifiying the corresponding dataset name.  Defaults to {}</p></li>
<li><p><strong>validators</strong>:  Dictionary containing validation rules of all soft fit validations that will be performed, defaults to None</p></li>
<li><strong>strong_validators</strong>:  Dictionary containing validation rules of all strong fit validations that will be performed, defaults to None</li>
<li><p><strong>pre_validators</strong>:  Dictionary containing validation rules of all all pre-fit validations validations that will be performed, defaults to None</p></li>
<li><p><strong>fit_performed</strong>:  Set to true by the Scan class if fit's have been performed, defaults to None</p></li>
<li><strong>fit_valid</strong>:  Set to True by the Scan class if the fit passed validations, False if it failed any validations, None if validations haven't been performed.  Default to None</li>
<li><strong>fit_valid_pre</strong>:  Set to True by the Scan class if the fit passed pre-validation, False if it falied, None if pre-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_soft</strong>:  Set to True by the Scan class if the fit passed soft-validation, False if it falied, None if soft-validation has not yet been performed.  Defaults to None</li>
<li><strong>fit_valid_strong</strong>:  Set to True by the Scan class if the fit passed strong-validation, False if it falied, None if strong-validation has not yet been performed.  Defaults to None</li>
<li><strong>_fit_saved</strong>:  Set to True by the Scan class after the main fit has been broadcast, saved, and persisted to the datasets.  Defaults to None</li>
<li><strong>fits_set</strong>:  Dictionary of fit params that were set to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</li>
<li><p><strong>fits_saved</strong>:  Dictionary of fit params that were broadcast, persisted, and saved to the datasets during fitting -- keys specify the full dataset key and the corresponding value is set to the fitted parameter value, defaults to {}</p></li>
<li><p><strong>x_label</strong>:  Label of the x-axis for the current scan plot, defaults to ""</p></li>
<li><strong>y_label</strong>:  Label of the y-axis for the current scan plot, defaults to ""</li>
<li><strong>x_scale</strong>:  Scale of the x-axis for the current scan plot, defaults to 1</li>
<li><strong>y_scale</strong>:  Scale of the y-axis for the current scan plot, defaults to 1</li>
<li><strong>x_units</strong>:  Unit of the x-axis for the current scan plot, defaults to ""</li>
<li><strong>y_units</strong>:  Unit of the y-axis for the current scan plot, defaults to ""</li>
<li><p><strong>plot_title</strong>:  Title of the current scan plot, defaults to ""</p></li>
<li><p><strong>counts</strong>:  Contains the value returned by each call to the Scan measure method() -- contains a value for each scan point, repeat, and pass.</p></li>
</ul>
</div>


                            <div id="PicoScanModel.namespace" class="classattr">
                                <div class="attr variable">
            <span class="name">namespace</span>        =
<span class="default_value">&#39;PMAngle_Compensation&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.namespace"></a>
    
    

                            </div>
                            <div id="PicoScanModel.y_label" class="classattr">
                                <div class="attr variable">
            <span class="name">y_label</span>        =
<span class="default_value">&#39;Contrast Ratio&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.y_label"></a>
    
    

                            </div>
                            <div id="PicoScanModel.y_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">y_scale</span>        =
<span class="default_value">1000000.0</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.y_scale"></a>
    
    

                            </div>
                            <div id="PicoScanModel.enable_histograms" class="classattr">
                                <div class="attr variable">
            <span class="name">enable_histograms</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.enable_histograms"></a>
    
    

                            </div>
                            <div id="PicoScanModel.x_label" class="classattr">
                                <div class="attr variable">
            <span class="name">x_label</span>        =
<span class="default_value">&#39;Picomotor 2 Position&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.x_label"></a>
    
    

                            </div>
                            <div id="PicoScanModel.x_scale" class="classattr">
                                <div class="attr variable">
            <span class="name">x_scale</span>        =
<span class="default_value">1000.0</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.x_scale"></a>
    
    

                            </div>
                            <div id="PicoScanModel.x_units" class="classattr">
                                <div class="attr variable">
            <span class="name">x_units</span>        =
<span class="default_value">&#39;1e3 steps&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.x_units"></a>
    
    

                            </div>
                            <div id="PicoScanModel.main_fit" class="classattr">
                                <div class="attr variable">
            <span class="name">main_fit</span>        =
<span class="default_value">&#39;A&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.main_fit"></a>
    
    

                            </div>
                            <div id="PicoScanModel.plot_title" class="classattr">
                                <div class="attr variable">
            <span class="name">plot_title</span>        =
<span class="default_value">&#39;Picomotor Angle Compensation Scan&#39;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.plot_title"></a>
    
    

                            </div>
                            <div id="PicoScanModel.fit_function" class="classattr">
                                <div class="attr variable">
            <span class="name">fit_function</span>        =
<span class="default_value">&lt;class &#39;scan_framework.analysis.curvefits.Gauss&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.fit_function"></a>
    
    

                            </div>
                            <div id="PicoScanModel.hold" class="classattr">
                                <div class="attr variable">
            <span class="name">hold</span>        =
<span class="default_value">{&#39;y0&#39;: 0}</span>

        
    </div>
    <a class="headerlink" href="#PicoScanModel.hold"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>artiq.language.environment.HasEnvironment</dt>
                                <dd id="PicoScanModel.__init__" class="function">HasEnvironment</dd>
                <dd id="PicoScanModel.children" class="variable">children</dd>
                <dd id="PicoScanModel.register_child" class="function">register_child</dd>
                <dd id="PicoScanModel.call_child_method" class="function">call_child_method</dd>
                <dd id="PicoScanModel.get_argument" class="function">get_argument</dd>
                <dd id="PicoScanModel.setattr_argument" class="function">setattr_argument</dd>
                <dd id="PicoScanModel.get_device_db" class="function">get_device_db</dd>
                <dd id="PicoScanModel.get_device" class="function">get_device</dd>
                <dd id="PicoScanModel.setattr_device" class="function">setattr_device</dd>
                <dd id="PicoScanModel.set_dataset" class="function">set_dataset</dd>
                <dd id="PicoScanModel.mutate_dataset" class="function">mutate_dataset</dd>
                <dd id="PicoScanModel.append_to_dataset" class="function">append_to_dataset</dd>
                <dd id="PicoScanModel.get_dataset" class="function">get_dataset</dd>
                <dd id="PicoScanModel.setattr_dataset" class="function">setattr_dataset</dd>
                <dd id="PicoScanModel.set_default_scheduling" class="function">set_default_scheduling</dd>

            </div>
            <div><dt>scan_framework.models.scan_model.ScanModel</dt>
                                <dd id="PicoScanModel.default_fit" class="variable">default_fit</dd>
                <dd id="PicoScanModel.enable_debugging" class="variable">enable_debugging</dd>
                <dd id="PicoScanModel.x_offset" class="variable">x_offset</dd>
                <dd id="PicoScanModel.subspace" class="variable">subspace</dd>
                <dd id="PicoScanModel.mirror_namespace" class="variable">mirror_namespace</dd>
                <dd id="PicoScanModel.broadcast" class="variable">broadcast</dd>
                <dd id="PicoScanModel.persist" class="variable">persist</dd>
                <dd id="PicoScanModel.save" class="variable">save</dd>
                <dd id="PicoScanModel.mirror" class="variable">mirror</dd>
                <dd id="PicoScanModel.aggregate_histogram" class="variable">aggregate_histogram</dd>
                <dd id="PicoScanModel.disable_validations" class="variable">disable_validations</dd>
                <dd id="PicoScanModel.fit_map" class="variable">fit_map</dd>
                <dd id="PicoScanModel.fit_use_yerr" class="variable">fit_use_yerr</dd>
                <dd id="PicoScanModel.fits_to_save" class="variable">fits_to_save</dd>
                <dd id="PicoScanModel.guess" class="variable">guess</dd>
                <dd id="PicoScanModel.man_bounds" class="variable">man_bounds</dd>
                <dd id="PicoScanModel.man_scale" class="variable">man_scale</dd>
                <dd id="PicoScanModel.validators" class="variable">validators</dd>
                <dd id="PicoScanModel.strong_validators" class="variable">strong_validators</dd>
                <dd id="PicoScanModel.pre_validators" class="variable">pre_validators</dd>
                <dd id="PicoScanModel.bin_start" class="variable">bin_start</dd>
                <dd id="PicoScanModel.bin_end" class="variable">bin_end</dd>
                <dd id="PicoScanModel.y_units" class="variable">y_units</dd>
                <dd id="PicoScanModel.counts" class="variable">counts</dd>
                <dd id="PicoScanModel.fits_set" class="variable">fits_set</dd>
                <dd id="PicoScanModel.fits_saved" class="variable">fits_saved</dd>
                <dd id="PicoScanModel.fit_performed" class="variable">fit_performed</dd>
                <dd id="PicoScanModel.fit_valid" class="variable">fit_valid</dd>
                <dd id="PicoScanModel.fit_valid_pre" class="variable">fit_valid_pre</dd>
                <dd id="PicoScanModel.fit_valid_soft" class="variable">fit_valid_soft</dd>
                <dd id="PicoScanModel.fit_valid_strong" class="variable">fit_valid_strong</dd>
                <dd id="PicoScanModel.type" class="variable">type</dd>
                <dd id="PicoScanModel.report" class="function">report</dd>
                <dd id="PicoScanModel.build" class="function">build</dd>
                <dd id="PicoScanModel.reset_state" class="function">reset_state</dd>
                <dd id="PicoScanModel.bind" class="function">bind</dd>
                <dd id="PicoScanModel.attach" class="function">attach</dd>
                <dd id="PicoScanModel.load" class="function">load</dd>
                <dd id="PicoScanModel.init_datasets" class="function">init_datasets</dd>
                <dd id="PicoScanModel.init_plots" class="function">init_plots</dd>
                <dd id="PicoScanModel.write_datasets" class="function">write_datasets</dd>
                <dd id="PicoScanModel.mutate_datasets" class="function">mutate_datasets</dd>
                <dd id="PicoScanModel.mutate_plot" class="function">mutate_plot</dd>
                <dd id="PicoScanModel.get_plot_data" class="function">get_plot_data</dd>
                <dd id="PicoScanModel.mutate_datasets_calc" class="function">mutate_datasets_calc</dd>
                <dd id="PicoScanModel.mutate_points" class="function">mutate_points</dd>
                <dd id="PicoScanModel.mutate_means" class="function">mutate_means</dd>
                <dd id="PicoScanModel.mutate_errors" class="function">mutate_errors</dd>
                <dd id="PicoScanModel.get_means" class="function">get_means</dd>
                <dd id="PicoScanModel.get_means_key" class="function">get_means_key</dd>
                <dd id="PicoScanModel.errors" class="variable">errors</dd>
                <dd id="PicoScanModel.xs" class="variable">xs</dd>
                <dd id="PicoScanModel.get_xs" class="function">get_xs</dd>
                <dd id="PicoScanModel.get_xs_key" class="function">get_xs_key</dd>
                <dd id="PicoScanModel.load_counts" class="function">load_counts</dd>
                <dd id="PicoScanModel.load_xs" class="function">load_xs</dd>
                <dd id="PicoScanModel.load_errors" class="function">load_errors</dd>
                <dd id="PicoScanModel.load_means" class="function">load_means</dd>
                <dd id="PicoScanModel.calc_hist" class="function">calc_hist</dd>
                <dd id="PicoScanModel.calc_mean" class="function">calc_mean</dd>
                <dd id="PicoScanModel.calc_error" class="function">calc_error</dd>
                <dd id="PicoScanModel.calc_amplitude" class="function">calc_amplitude</dd>
                <dd id="PicoScanModel.main_fit_param" class="variable">main_fit_param</dd>
                <dd id="PicoScanModel.main_fit_ds" class="variable">main_fit_ds</dd>
                <dd id="PicoScanModel.get_main_fit" class="function">get_main_fit</dd>
                <dd id="PicoScanModel.set_main_fit" class="function">set_main_fit</dd>
                <dd id="PicoScanModel.get_fit" class="function">get_fit</dd>
                <dd id="PicoScanModel.get_fit_data" class="function">get_fit_data</dd>
                <dd id="PicoScanModel.get_guess" class="function">get_guess</dd>
                <dd id="PicoScanModel.fit_data" class="function">fit_data</dd>
                <dd id="PicoScanModel.before_validate" class="function">before_validate</dd>
                <dd id="PicoScanModel.validate_fit" class="function">validate_fit</dd>
                <dd id="PicoScanModel.save_fit" class="function">save_fit</dd>
                <dd id="PicoScanModel.set_fits" class="function">set_fits</dd>
                <dd id="PicoScanModel.report_fit" class="function">report_fit</dd>
                <dd id="PicoScanModel.validate_in_scan_range" class="function">validate_in_scan_range</dd>
                <dd id="PicoScanModel.simulation_args" class="variable">simulation_args</dd>
                <dd id="PicoScanModel.simulate" class="function">simulate</dd>

            </div>
            <div><dt>scan_framework.models.model.Model</dt>
                                <dd id="PicoScanModel.valid" class="variable">valid</dd>
                <dd id="PicoScanModel.default_fallback" class="variable">default_fallback</dd>
                <dd id="PicoScanModel.map_namespace" class="function">map_namespace</dd>
                <dd id="PicoScanModel.key" class="function">key</dd>
                <dd id="PicoScanModel.default_key" class="function">default_key</dd>
                <dd id="PicoScanModel.init" class="function">init</dd>
                <dd id="PicoScanModel.write" class="function">write</dd>
                <dd id="PicoScanModel.set" class="function">set</dd>
                <dd id="PicoScanModel.get_default" class="function">get_default</dd>
                <dd id="PicoScanModel.get" class="function">get</dd>
                <dd id="PicoScanModel.mutate" class="function">mutate</dd>
                <dd id="PicoScanModel.exists" class="function">exists</dd>
                <dd id="PicoScanModel.create" class="function">create</dd>
                <dd id="PicoScanModel.setattr" class="function">setattr</dd>
                <dd id="PicoScanModel.validate_greater_than" class="function">validate_greater_than</dd>
                <dd id="PicoScanModel.validate_less_than" class="function">validate_less_than</dd>
                <dd id="PicoScanModel.validate_between" class="function">validate_between</dd>
                <dd id="PicoScanModel.validate_max_change" class="function">validate_max_change</dd>
                <dd id="PicoScanModel.validate_height" class="function">validate_height</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>